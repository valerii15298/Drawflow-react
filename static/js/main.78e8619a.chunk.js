(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{26:function(t,e,n){},27:function(t,e,n){"use strict";n.r(e);var o,c,r=n(1),a=n.n(r),i=n(9),s=n.n(i),l=n(3);!function(t){t.START="START",t.MIDDLE="MIDDLE",t.END="END"}(o||(o={})),function(t){t.Drawflow="drawflow"}(c||(c={}));var u,d=.5;!function(t){t.NODE_SETTINGS="NODE_SETTINGS",t.GROUP_SETTINGS="GROUP_SETTINGS"}(u||(u={}));var f=function(){var t=document.querySelector("#drawflow").querySelector(".drawflow"),e=t.getBoundingClientRect();return{x:e.x,y:e.y,width:t.clientWidth,height:t.clientHeight}},h={createCurvature:function(t,e,n){var o=null,c=null;switch(n){case"open":return t.x>=e.x?(o=t.x+Math.abs(e.x-t.x)*d,c=e.x- -.5*Math.abs(e.x-t.x)):(o=t.x+Math.abs(e.x-t.x)*d,c=e.x-Math.abs(e.x-t.x)*d)," M "+t.x+" "+t.y+" C "+o+" "+t.y+" "+c+" "+e.y+" "+e.x+"  "+e.y;case"close":return t.x>=e.x?(o=t.x+-.5*Math.abs(e.x-t.x),c=e.x-Math.abs(e.x-t.x)*d):(o=t.x+Math.abs(e.x-t.x)*d,c=e.x-Math.abs(e.x-t.x)*d)," M "+t.x+" "+t.y+" C "+o+" "+t.y+" "+c+" "+e.y+" "+e.x+"  "+e.y;case"other":return t.x>=e.x?(o=t.x+-.5*Math.abs(e.x-t.x),c=e.x- -.5*Math.abs(e.x-t.x)):(o=t.x+Math.abs(e.x-t.x)*d,c=e.x-Math.abs(e.x-t.x)*d)," M "+t.x+" "+t.y+" C "+o+" "+t.y+" "+c+" "+e.y+" "+e.x+"  "+e.y;default:return o=t.x+Math.abs(e.x-t.x)*d,c=e.x-Math.abs(e.x-t.x)*d," M "+t.x+" "+t.y+" C "+o+" "+t.y+" "+c+" "+e.y+" "+e.x+"  "+e.y}},getCanvasInfo:f,getPos:function(t,e,n){var o=f(),c=o.x,r=o.y,a=o.width,i=o.height;return{x:t*(a/(a*n))-c*(a/(a*n)),y:e*(i/(i*n))-r*(i/(i*n))}},findIndexByElement:function(t){for(var e=t.parentElement,n=Array.from(e.childNodes),o=0;o<n.length;o++)if(n[o]===t)return o;return-1},getPortPosWithZoom:function(t,e,n){var o=h.getCanvasInfo(),c=o.width/(o.width*n)||0,r=o.height/(o.height*n)||0;return{x:t.width/2+(e.x-o.x)*c,y:t.height/2+(e.y-o.y)*r}}},v=h,p=n(4),b=n(6),j=n(13),x=n(14),w=n(2),y=function(){function t(e){var n=this;Object(j.a)(this,t),this.state=void 0,this.nodes={},this.distanceToConnect=100,this.distanceToDisconnect=0,this.state=e;var o=this.state.drawflow;Object.keys(o).map((function(t){return n.nodes[Number(t)]=new g(Number(t),n)}))}return Object(x.a)(t,[{key:"heads",get:function(){return[]}},{key:"getNode",value:function(t){return this.nodes[t]}},{key:"alignAll",value:function(){console.log(Object(w.a)(this.state)),this.state.drawflow[1].pos.x=0}},{key:"addConnection",value:function(t){var e=t.startId,n=t.startPort,o=t.endId,c=t.endPort;if(!this.getNode(e).clildren(n).length&&!this.getNode(o).parent){var r="".concat(e,"_").concat(n,"_").concat(o,"_").concat(c),a=this.state.connections;void 0===a[r]&&(a[r]=[])}}},{key:"moveNode",value:function(t){var e=t.dx,n=t.dy,o=t.nodeId,c=this.state,r=function(t,e){var n=e.ports;return Object.keys(n).filter((function(e){return e.split(/_/g)[0]===""+t}))}(o,c);c.ports=r.reduce((function(t,o){return t[o]={x:t[o].x+e,y:t[o].y+n},t}),Object(p.a)({},c.ports)),c.drawflow[o].pos.x+=e,c.drawflow[o].pos.y+=n;var a=this.getNode(o);a.parentConnection&&delete this.state.connections[a.parentConnection];var i=a.portInPos;if(i){var s=[];if(Object.entries(this.nodes).forEach((function(t){var e=Object(l.a)(t,2),n=e[0],c=e[1];Number(n)!==o&&c.outPorts.forEach((function(t){var e=Object(l.a)(t,2),n=e[0],o=e[1],c=Math.hypot(i.x-o.x,i.y-o.y);s.push({key:n,distance:c})}))})),s.sort((function(t,e){return t.distance-e.distance})),s.length){var u=s[0];u.distance<this.distanceToConnect?this.state.portToConnect=u.key:this.state.portToConnect=void 0}}}},{key:"setLaneNumbers",value:function(){}}]),t}(),g=function(){function t(e,n){Object(j.a)(this,t),this.id=void 0,this.state=void 0,this.flow=void 0,this.nodeState=void 0,this.id=e,this.flow=n,this.state=n.state,this.nodeState=this.state.drawflow[this.id]}return Object(x.a)(t,[{key:"port",get:function(){return this.nodeState.port}},{key:"portInPos",get:function(){var t,e=this;return null===(t=Object.entries(this.state.ports).find((function(t){var n=Object(l.a)(t,2),o=n[0];n[1];return o==="".concat(e.id,"_in_1")})))||void 0===t?void 0:t[1]}},{key:"outPorts",get:function(){var t=this;return Object.entries(this.state.ports).filter((function(e){var n=Object(l.a)(e,2),o=n[0];n[1];return o.startsWith("".concat(t.id,"_out"))}))}},{key:"parent",get:function(){var t,e=this,n=null===(t=Object.keys(this.state.connections).find((function(t){return t.split("_")[2]===e.id.toString()})))||void 0===t?void 0:t.split("_")[0];return n?this.flow.getNode(Number(n)):null}},{key:"parentConnection",get:function(){var t=this;return Object.keys(this.state.connections).find((function(e){var n,o=e.split("_").map(Number);return o[0]===(null===(n=t.parent)||void 0===n?void 0:n.id)&&o[2]===t.id&&1===o[3]}))}},{key:"clildren",value:function(t){var e=this;return Object.keys(this.state.connections).filter((function(n){return n.split("_")[0]===e.id.toString()&&n.split("_")[1]===t.toString()})).map((function(t){return e.flow.getNode(Number(t.split("_")[2]))}))}},{key:"out1",get:function(){return this.clildren(1)}},{key:"firstSubnode",get:function(){return this.clildren(2)[0]}},{key:"subnodes",get:function(){var t=this.flowLine;return t?t.flowLineNodes:[]}},{key:"isSub",get:function(){var t=this.parent;return!!t&&(t.firstSubnode===this||t.isSub)}},{key:"complexParentNode",get:function(){return null}},{key:"flowLine",get:function(){for(var t=[],e=this,n=e.firstSubnode;1===e.out1.length;)t.push(e),n=n||e.firstSubnode,e=e.out1[0];return e.out1.length>1?null:{flowLineNodes:t,hasSubnodes:n}}},{key:"height",get:function(){return this.state.drawflow[this.id].height}},{key:"width",get:function(){return this.state.drawflow[this.id].width}},{key:"data",get:function(){return{}}},{key:"pos",get:function(){return this.state.drawflow[this.id].pos}},{key:"setPos",value:function(t){var e=this.pos,n=t.x,o=t.y;this.flow.moveNode({nodeId:this.id,dx:n-e.x,dy:o-e.y})}}]),t}(),m={nodeId:1,canvasDrag:!1,config:{drag:!1,connectionsLabelEnable:!1,canvasTranslate:{x:0,y:0},zoom:{value:1,max:2,min:.5,tick:.1}},drawflow:{},connections:{},connectionsLabel:{},ports:{},select:null,selectId:null,selectPath:null,showButton:null,newPathDirection:null,modalType:null,editLock:!1,mouseBlockDragPos:{clientX:void 0,clientY:void 0}},O=function(t,e){t.drawflow[t.nodeId]=Object(p.a)(Object(p.a)({},e),{},{id:t.nodeId,height:0,width:0}),t.selectId=t.nodeId++,t.select={type:"node",selectId:t.selectId},t.config.drag=!0},k=Object(b.e)({name:c.Drawflow,initialState:m,reducers:{setEditLock:function(t,e){var n=e.payload;t.editLock=n},align:function(t){var e=new y(t);console.log(e.getNode(1).isSub)},addNode:function(t,e){var n=e.payload;return O(t,n)},moveNode:function(t,e){return new y(t).moveNode(e.payload)},setMouseBlockDragPos:function(t,e){var n=e.payload;t.mouseBlockDragPos=n},unSelect:function(t){t.config.drag=!1,t.select=null,t.selectId=null,t.showButton=null},select:function(t,e){var n=e.payload,o=n.type,c=n.selectId;t.config.drag="node"===o,t.select=n,t.selectId=null!==c&&void 0!==c?c:null},moveCanvas:function(t,e){var n=e.payload,o=n.movementX,c=n.movementY;t.canvasDrag&&(t.config.canvasTranslate.x+=o,t.config.canvasTranslate.y+=c)},canvasDrag:function(t,e){var n=e.payload;t.canvasDrag=n},canvasMouseMove:function(t,e){var n,o=e.payload,c=o.movementX,r=o.movementY,a=o.clientX,i=o.clientY;if(t.canvasDrag)t.config.canvasTranslate.x+=c,t.config.canvasTranslate.y+=r;else if("output"===(null===(n=t.select)||void 0===n?void 0:n.type))t.newPathDirection={clientX:a,clientY:i};else if(t.config.drag&&"number"===typeof t.selectId){var s=t.selectId,l=t.mouseBlockDragPos,u=l.clientX,d=l.clientY;t.mouseBlockDragPos={clientX:a,clientY:i};var f=t.config.zoom.value,h=(a-u)/f,v=(i-d)/f;new y(t).moveNode({nodeId:s,dy:v,dx:h})}},canvasMouseUp:function(t){var e,n=new y(t);if(t.portToConnect){var o=t.portToConnect.split("_").map((function(t){return Number(t)})),c=Object(l.a)(o,3),r=c[0],a=(c[1],c[2]),i=Number(t.selectId);n.addConnection({startId:r,startPort:a,endId:i,endPort:1})}t.portToConnect=void 0,t.newPathDirection=null,t.canvasDrag=!1,t.config.drag=!1,"output"===(null===(e=t.select)||void 0===e?void 0:e.type)&&(t.select=null)},deleteNode:function(t){var e=t.connections,n=t.drawflow,o=t.ports,c=t.selectId;c&&"number"===typeof c&&(Object.keys(e).reduce((function(t,n){var o=n.split("_").map((function(t){return parseInt(t)}));return 1*o[0]!==c&&1*o[2]!==c||delete e[n],null}),null),Object.keys(o).reduce((function(t,e){return 1*e.split("_").map((function(t){return parseInt(t)}))[0]===c&&delete o[e],null}),null),delete n[c],t.select=null,t.selectId=null,t.showButton=null)},deletePath:function(t){var e=t.selectId,n=t.connections;"string"===typeof e&&delete n[e]},load:function(t,e){var n=e.payload;return Object.assign(t,m),t.drawflow=n.drawflow,t.nodeId=Object.keys(n.drawflow).length+1,t.connections=n.connections,t},addConnection:function(t,e){new y(t).addConnection(e.payload)},clear:function(){return m},pushPorts:function(t,e){var n=e.payload;t.ports=Object(p.a)(Object(p.a)({},t.ports),n)},zoom:function(t,e){var n=e.payload,o=t.config.zoom,c=o.value,r=o.max,a=o.min,i=o.tick,s=c+(n?i:-i);s<=r&&s>=a&&(o.value=s),null===n&&(t.config.canvasTranslate={x:0,y:0},o.value=1)},nodeSize:function(t,e){var n=e.payload,o=n.height,c=n.width,r=n.id;t.drawflow[r].height=o,t.drawflow[r].width=c}}}),N=k.actions,D=k.reducer,C=function(t){return t.flows[t.version]},I=n(8),M=function(){return Object(I.b)()},S=I.c,P=n(0),E={Circle:function(t){var e=t.property,n=t.svgKey,o=t.i,c=t.editLock;return Object(P.jsx)("circle",Object(p.a)(Object(p.a)({},e),{},{xmlns:"http://www.w3.org/2000/svg",className:"point",r:6,onMouseDown:function(e){c||t.select(e,{svgKey:n,i:o})}}))},Path:function(t){var e=t.svgKey,n=t.d,o=S(C).selectId,c=M(),r="main-path "+(o===e&&e?"select":"");return Object(P.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",className:r,d:n,onMouseDown:function(t){t.stopPropagation(),c(N.select({type:"path",selectId:e}))}})}},T=n(10),_=function(){return Object(P.jsxs)("svg",{width:"11",height:"16",viewBox:"0 0 11 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(P.jsx)("circle",{cx:"2.22798",cy:"1.45455",r:"1.45455",fill:"#CED0D7"}),Object(P.jsx)("circle",{cx:"8.77486",cy:"1.45455",r:"1.45455",fill:"#CED0D7"}),Object(P.jsx)("circle",{cx:"2.22798",cy:"14.5454",r:"1.45455",fill:"#CED0D7"}),Object(P.jsx)("circle",{cx:"8.77486",cy:"14.5454",r:"1.45455",fill:"#CED0D7"}),Object(P.jsx)("circle",{cx:"2.22798",cy:"8.00044",r:"1.45455",fill:"#CED0D7"}),Object(P.jsx)("circle",{cx:"8.77486",cy:"8.00044",r:"1.45455",fill:"#CED0D7"})]})},L=function(){return Object(P.jsxs)("svg",{width:"12",height:"3",viewBox:"0 0 12 3",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(P.jsx)("circle",{cx:"1.2",cy:"1.2",r:"1.2",fill:"#C5C5D0"}),Object(P.jsx)("circle",{cx:"5.9998",cy:"1.2",r:"1.2",fill:"#C5C5D0"}),Object(P.jsx)("circle",{cx:"10.7996",cy:"1.2",r:"1.2",fill:"#C5C5D0"})]})},Y={Common:function(t){var e=Object(r.useState)(t),n=Object(l.a)(e,2),o=n[0];n[1];return Object(P.jsx)("div",{className:"node-block",children:JSON.stringify(o,null,2)})},Round:function(t){var e=t.imgSrc,n=t.name,o=t.description;return Object(P.jsxs)("div",{className:"blockelem create-flowy",children:[Object(P.jsx)("div",{className:"grabme",children:Object(P.jsx)(_,{})}),Object(P.jsxs)("div",{className:"blockin",children:[Object(P.jsxs)("div",{className:"blockico",children:[Object(P.jsx)("span",{}),Object(P.jsx)("img",{src:e,alt:n+"\n"+o})]}),Object(P.jsxs)("div",{className:"blocktext",children:[Object(P.jsx)("p",{className:"blocktitle",children:n}),Object(P.jsx)("div",{className:"side-elem-more",children:Object(P.jsx)(L,{})}),Object(P.jsx)("p",{className:"blockdesc",children:o})]})]})]})}},X=function(t){var e=t.id,n=S(C),o=n.portToConnect,c=n.nodeId,a=n.selectId,i=n.select,s=n.ports,u=n.config,d=n.drawflow[e],f=M(),h=d.port,b=d.pos,j=u.zoom,x=Object(r.useState)({inputs:[],outputs:[]}),w=Object(l.a)(x,2),y=w[0],g=w[1],m=Object(r.useRef)(null),O=function(t){for(var n=[],c=function(c){var r="".concat(t,"put-").concat(c),s="".concat(e,"_").concat(t,"_").concat(c),l=Object(P.jsx)("div",{onMouseDown:function(e){e.stopPropagation(),f(N.select({type:t+"put",portId:c,selectId:d.id}))},className:"".concat(t,"put ").concat(r," ").concat(s),onMouseUp:function(e){if("in"===t&&"number"===typeof a&&(null===i||void 0===i?void 0:i.portId)){var n=d.id,o=c,r=a,s=i.portId;r!==n&&f(N.addConnection({startId:r,startPort:s,endId:n,endPort:o}))}},children:Object(P.jsx)("div",{className:"indicator ".concat(o===s?" ":"invisible")})},r);n.push(l)},r=1;r<=h[t];r++)c(r);return Object(P.jsx)("div",{className:"".concat(t,"puts"),children:n})};Object(r.useEffect)((function(){if(m.current){var t=Array.from(m.current.querySelector(".inputs").children),n=Array.from(m.current.querySelector(".outputs").children);g({inputs:t,outputs:n});var o=m.current,c=o.offsetHeight,r=o.offsetWidth;f(N.nodeSize({height:c,width:r,id:e}))}}),[m]);var k=function(t,n,o){var c="".concat(e,"_").concat(t,"_").concat(n);if(!s[c]){var r=o.getBoundingClientRect(),a={width:o.offsetWidth,height:o.offsetHeight},i={x:r.x,y:r.y};return Object(T.a)({},c,v.getPortPosWithZoom(a,i,j.value))}};return Object(r.useEffect)((function(){if(y.inputs&&y.outputs&&h.in===y.inputs.length&&h.out===y.outputs.length){var t={};t=Object.assign(t,y.inputs.reduce((function(t,e,n){return Object.assign(t,k("in",n+1,e))}),{})),t=Object.assign(t,y.outputs.reduce((function(t,e,n){return Object.assign(t,k("out",n+1,e))}),{})),f(N.pushPorts(t))}}),[f,h,y]),Object(r.useEffect)((function(){if(m.current&&c-1===e&&u.drag){var t=m.current,n=t.offsetHeight,o=t.offsetWidth;f(N.moveNode({nodeId:e,dx:.2*-o,dy:.2*-n}))}}),[]),Object(P.jsxs)("div",{ref:m,className:"node-".concat(e," drawflow-node-block-default")+(a===e?" select":""),style:{top:b.y+"px",left:b.x+"px",cursor:"move"},onMouseDown:function(t){t.stopPropagation();var n=t.clientX,o=t.clientY;f(N.select({type:"node",selectId:e})),f(N.setMouseBlockDragPos({clientX:n,clientY:o}))},onContextMenu:function(t){},onDoubleClick:function(){},children:[O("in"),Object(P.jsx)("div",{className:"drawflow-node-content",children:Object(P.jsx)(Y.Common,Object(p.a)({},d))}),O("out")]})},B=n(5),z=n.n(B),q=n(7),A=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,c=[],r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<t;a++){for(var i="",s=0;s<Math.floor(Math.random()*(n-o)+o);s++)i+=r.charAt(Math.floor(Math.random()*r.length));e.length>1&&(i+=e),c.push(i)}return c},W={getDummy:function(){var t=Object(q.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{nodes:{1:{id:1,type:o.MIDDLE,data:{type:"Numeric",name:"HLuF7rwKIuD",value:"asdf"},port:{in:1,out:2},pos:{x:43.3125,y:14},height:0,width:0},2:{id:2,type:o.MIDDLE,data:{type:"String",name:"y24mqVYQtD",value:"eeee"},port:{in:1,out:2},pos:{x:469.3125,y:286},height:0,width:0},3:{id:3,type:o.MIDDLE,data:{type:"String",name:"y24mqVYQtD",value:"asdffff"},port:{in:1,out:2},pos:{x:436.8125,y:92},height:0,width:0},4:{id:4,type:o.MIDDLE,data:{type:"String",name:"1qdlCNXqYBsE",value:"qqweee"},port:{in:1,out:2},pos:{x:36.3125,y:209},height:0,width:0}},connections:{"1_1_3_1":[{x:327.3125,y:327}],"4_1_2_1":[{x:323.3125,y:57}]}});case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getFilters:function(){var t=Object(q.a)(z.a.mark((function t(e){var n,o,c;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=function(){return{type:"Asd",name:"assa",value:A(1,"",10,5)[0]}},o=[],c=0;c<e;++c)o.push(n());return t.abrupt("return",o);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},F=Object(b.b)("versions/changed"),R=Object(b.b)("addNewNode"),U=Object(b.b)("dragTemplate"),V={version:0,flows:[m,m,m],templates:[],dragTemplate:0},G=Object(b.c)("fetchPosts",Object(q.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.getFilters(5);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))),H=Object(b.c)("fetchFlowVersion",Object(q.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.getDummy();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))),K=Object(b.d)(V,(function(t){t.addCase(F,(function(t,e){var n=e.payload;t.version=n})).addCase(R,(function(t,e){var n=e.payload,c=n.clientX,r=n.clientY;if(t.dragTemplate){var a=t.flows[t.version],i={type:o.MIDDLE,data:{type:"String",name:"1qdlCNXqYBsE",value:"qqweee"},port:{in:1,out:2},pos:{x:-20,y:100}};i.pos=v.getPos(c,r,a.config.zoom.value),a.mouseBlockDragPos={clientX:c,clientY:r},O(a,i),t.dragTemplate=void 0}})).addCase(U,(function(t,e){var n=e.payload;t.dragTemplate=n})).addCase(G.fulfilled,(function(t,e){t.templates=e.payload})).addCase(H.fulfilled,(function(t,e){var n=e.payload,o=n.nodes,r=n.connections;t.flows[t.version]=D(t.flows[t.version],{type:c.Drawflow+"/load",payload:{drawflow:o,connections:r}})})).addMatcher((function(t){return t.type.startsWith(c.Drawflow)}),(function(t,e){t.flows[t.version]=D(t.flows[t.version],e)}))})),J=Object(b.a)({reducer:K}),Q=function(){var t=S((function(t){return C(t).editLock})),e=M();return Object(P.jsxs)("div",{className:"drawflow-additional",children:[!t&&Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("button",{className:"drawflow-additional-button",onClick:function(){return console.log("clear")},children:"Clear"})}),Object(P.jsx)("button",{className:"drawflow-additional-button",onClick:function(){return e(N.setEditLock(!t))},children:t?"UnLock":"Lock"})]})},Z=function(){var t=M();return Object(P.jsxs)("div",{className:"drawflow-zoom",children:[Object(P.jsx)("button",{className:"drawflow-zoom-button",onClick:function(){return t(N.zoom(!0))},children:"+"}),Object(P.jsx)("button",{className:"drawflow-zoom-button",onClick:function(){return t(N.zoom(!1))},children:"-"}),Object(P.jsx)("button",{className:"drawflow-zoom-button",onClick:function(){return t(N.zoom(null))},children:"reset"})]})},$=function(){var t=S(C),e=t.select,n=t.config,o=t.ports,c=t.selectId,r=t.newPathDirection;if(!(null===e||void 0===e?void 0:e.portId))return console.error("Select port id not set!"),null;var a="".concat(c,"_out_").concat(e.portId);if(!o[a])return console.error("Start port key not exist"),null;if(!r)return console.error("Path direction null"),null;var i={x:o[a].x,y:o[a].y},s=n.zoom.value,l=r.clientX,u=r.clientY,d=v.getPos(l,u,s),f=v.createCurvature(i,d,"openclose");return Object(P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"drawflow-connection",children:Object(P.jsx)(E.Path,{d:f})})},tt=function(){var t=S(C),e=t.connections,n=t.ports,o=Object.entries(e).map((function(t){var e=Object(l.a)(t,1)[0],o=e.split("_"),c="".concat(o[0],"_out_").concat(o[1]),r="".concat(o[2],"_in_").concat(o[3]);if(!n[c]||!n[r])return null;var a={x:n[c].x,y:n[c].y},i={x:n[r].x,y:n[r].y},s=v.createCurvature(a,i,"openclose");return Object(P.jsx)("div",{children:Object(P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"drawflow-connection",children:Object(P.jsx)(E.Path,{svgKey:e,d:s})})},e)}));return Object(P.jsx)(P.Fragment,{children:o})},et=function(){var t=S((function(t){return C(t).drawflow}));return Object(P.jsx)(P.Fragment,{children:Object.values(t).map((function(t){return Object(P.jsx)(X,{id:t.id},t.id)}))})},nt=function(){var t=S(C),e=t.select,n=t.config,o=n.canvasTranslate,c=o.x,a=o.y,i=n.zoom,s=t.newPathDirection,l=M();return Object(r.useEffect)((function(){l(H())}),[]),Object(r.useEffect)((function(){var t=function(t){"Delete"===t.key&&("path"===(null===e||void 0===e?void 0:e.type)?l(N.deletePath()):l(N.deleteNode()))};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[l,null===e||void 0===e?void 0:e.type]),Object(P.jsxs)("div",{id:"drawflow",className:"parent-drawflow",onMouseDown:function(t){t.currentTarget.classList.contains("parent-drawflow")&&(l(N.canvasDrag(!0)),l(N.unSelect()))},onMouseUp:function(){return l(N.canvasMouseUp())},onMouseMove:function(t){var e=t.clientX,n=t.clientY,o=t.movementX,c=t.movementY;l(N.canvasMouseMove({clientX:e,clientY:n,movementX:o,movementY:c}))},onMouseEnter:function(t){var e=t.clientX,n=t.clientY;l(R({clientX:e,clientY:n}))},children:[Object(P.jsx)(Q,{}),Object(P.jsx)(Z,{}),Object(P.jsxs)("div",{className:"drawflow",style:{transform:"translate(".concat(c,"px, ").concat(a,"px) scale(").concat(i.value,")")},children:[Object(P.jsx)(et,{}),Object(P.jsx)(tt,{}),s&&Object(P.jsx)($,{})]})]})},ot=function(t){var e=t.searchWord,n=S((function(t){return t.templates})),o=M(),c=e.toLowerCase().split(" ").filter((function(t){return t.length>0}));return Object(r.useEffect)((function(){o(G())}),[o]),Object(P.jsx)("div",{className:"drawflow-node-list-wrap",children:n.map((function(t,e){var n=t.name,r=t.type,a=t.value,i=JSON.stringify(t,null,2);return(c.find((function(t){return i.toLowerCase().includes(t)}))||!c.length)&&Object(P.jsx)("div",{className:"drawflow-node-block",onMouseDownCapture:function(t){o(U(1))},children:Object(P.jsx)("pre",{children:"Type: ".concat(r,"\nValue: ").concat(a+n)})},"drawflow-sidemenu-block-"+e)}))})};n(26);var ct=function(){var t=Object(r.useState)(""),e=Object(l.a)(t,2),n=e[0],o=e[1],c=M();return Object(P.jsxs)("div",{className:"App",children:[Object(P.jsxs)("div",{className:"drawflow-node-list",children:[Object(P.jsx)("div",{className:"drawflow-node-list-search",children:Object(P.jsx)("input",{type:"text",placeholder:"Search templates",onChange:function(t){o(t.target.value)}})}),Object(P.jsx)("div",{className:"drawflow-node-list-flex",children:Object(P.jsx)(ot,{searchWord:n})})]}),Object(P.jsxs)("div",{className:"drawflows",children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("button",{onClick:function(){return c(H())},children:"Fetch flow version"}),Object(P.jsx)("button",{onClick:function(){return c(F(0))},children:"Version 1"}),Object(P.jsx)("button",{onClick:function(){return c(F(1))},children:"Version 2"}),Object(P.jsx)("button",{onClick:function(){return c(F(2))},children:"Version 3"}),Object(P.jsx)("button",{onClick:function(){return c(N.align())},children:"Align"})]}),Object(P.jsx)(nt,{})]})]})};s.a.render(Object(P.jsx)(a.a.StrictMode,{children:Object(P.jsx)(I.a,{store:J,children:Object(P.jsx)(ct,{})})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.78e8619a.chunk.js.map