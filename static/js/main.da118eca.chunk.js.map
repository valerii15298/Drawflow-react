{"version":3,"sources":["types.ts","components/drawflowHandler.ts","redux/Node.ts","redux/drawflowSlice.ts","redux/hooks.ts","components/Connection/index.ts","components/Connection/Circle.tsx","components/Connection/Path.tsx","components/NodeComponents.tsx","components/DrawflowNodeBlock.tsx","Mock/fields.mock.ts","Mock/index.ts","Mock/dummy.mock.ts","redux/store.ts","components/ButtonArea/DrawflowAdditionalArea.tsx","components/ButtonArea/DrawflowZoomArea.tsx","components/DrawflowHook.tsx","components/FilterList.tsx","App.tsx","index.tsx"],"names":["NODE_TYPE","Slices","MODAL_TYPE","getCanvasInfo","canvas","document","querySelector","canvasRect","getBoundingClientRect","x","y","width","clientWidth","height","clientHeight","handler","createCurvature","start","end","hx1","hx2","curv","Math","abs","getPos","clientX","clientY","zoom","findIndexByElement","elmt","parentElement","arr","Array","from","childNodes","i","length","getPortPosWithZoom","size","pos","widthZoom","heightZoom","Flow","state","nodes","distanceToConnect","distanceToDisconnect","this","drawflow","Object","keys","map","id","Number","Node","entries","filter","parent","el","heads","forEach","node","calculateFullWidth","alignChildren","startId","startPort","endId","endPort","getNode","children","key","connections","undefined","dx","dy","nodeId","portKeys","ports","split","getPortListByNodeId","reduce","acc","portKey","moveNode","currentNode","parentConnection","nodeInPortPos","portInPos","portDistances","outPorts","distance","hypot","push","sort","a","b","nearestPort","portToConnect","laneNodes","update","head","lane","nextLaneNodes","subnodes","console","log","nextNodes","nextNode","flow","nodeState","spacingX","spacingY","port","find","startsWith","parentId","toString","fullWidth","out1","fullChildrenWidth","rez","max","xPos","setPos","portId","conn","firstSubnode","isSub","flowLineNodes","hasSubnodes","newPos","data","newData","lodash","merge","assign","initialState","canvasDrag","config","drag","connectionsLabelEnable","canvasTranslate","value","min","tick","connectionsLabel","select","selectId","selectPath","showButton","newPathDirection","modalType","editLock","mouseBlockDragPos","addNode","payload","type","slice","createSlice","name","Drawflow","reducers","setEditLock","align","alignAll","action","dragNode","setMouseBlockDragPos","unSelect","moveCanvas","movementX","movementY","canvasMouseMove","prevX","prevY","coef","canvasMouseUp","v","addConnection","deleteNode","_","val","parseInt","deletePath","load","clear","pushPorts","newValue","nodeSize","actions","drawflowSlice","reducer","selectActiveDrawflow","flows","version","useAppDispatch","useDispatch","useAppSelector","useSelector","Connection","Circle","props","property","svgKey","xmlns","className","r","onMouseDown","e","Path","d","dispatch","stopPropagation","Round","DrawflowNodeBlock","useState","inputs","outputs","refs","setRefs","ref","useRef","portComponent","onMouseUp","useEffect","current","offsetHeight","offsetWidth","getPortPos","rect","in","out","newPorts","style","top","left","cursor","onContextMenu","onDoubleClick","description","imgSrc","makeRandomNames","searchWord","result","j","word","floor","random","charAt","mock","getDummy","MIDDLE","JSON","parse","stringify","getFilters","number","rnd","changeVersion","createAction","addNewNode","dragTemplate","drawflowInitialState","templates","fetchNodeTemplates","createAsyncThunk","fetchFlowVersion","createReducer","builder","addCase","appState","fulfilled","addMatcher","store","configureStore","DrawflowAdditionalArea","s","onClick","DrawflowZoomArea","NewPath","error","startKey","ConnectionList","conns","endKey","NodeList","values","handleKeyDown","addEventListener","removeEventListener","currentTarget","classList","contains","onMouseMove","onMouseEnter","transform","FilterList","list","searchArr","toLowerCase","item","idx","label","includes","onMouseDownCapture","App","setSearchWord","placeholder","onChange","target","ReactDOM","render","StrictMode","getElementById"],"mappings":"uIAAYA,EAMAC,E,kDANAD,K,cAAAA,E,gBAAAA,E,WAAAA,M,cAMAC,K,qBAAAA,M,KAIL,IAEKC,G,SAAAA,K,8BAAAA,E,iCAAAA,M,KCRL,IAeDC,EAAgB,WAEpB,IAAMC,EAAUC,SAASC,cAAc,aAA6BA,cAAc,aAC5EC,EAAaH,EAAOI,wBAC1B,MAAO,CACLC,EAAGF,EAAWE,EACdC,EAAGH,EAAWG,EACdC,MAAOP,EAAOQ,YACdC,OAAQT,EAAOU,eAgCbC,EAAU,CACdC,gBAnDsB,SAACC,EAAYC,GACnC,IAAIC,EAAKC,EACLC,EAAQJ,EAAMR,GAAKS,EAAIT,GDDT,MCMlB,OAHAU,EAAMF,EAAMR,EAAIa,KAAKC,IAAIL,EAAIT,EAAIQ,EAAMR,GAAKY,EAC5CD,EAAMF,EAAIT,EAAIa,KAAKC,IAAIL,EAAIT,EAAIQ,EAAMR,GAAKY,EAEnC,MAAQJ,EAAMR,EAAI,IAAMQ,EAAMP,EAAI,MAAQS,EAAM,IAAMF,EAAMP,EAAI,IAAMU,EAAM,IAAMF,EAAIR,EAAI,IAAMQ,EAAIT,EAAI,KAAOS,EAAIR,GA6C1HP,gBACAqB,OA/Ba,SAACC,EAAiBC,EAAiBC,GAChD,MAAgCxB,IAAxBM,EAAR,EAAQA,EAAGC,EAAX,EAAWA,EAAGC,EAAd,EAAcA,MAAOE,EAArB,EAAqBA,OACrB,MAAO,CACLJ,EAAGgB,GAAWd,GAASA,EAAQgB,IAAUlB,GAAKE,GAASA,EAAQgB,IAC/DjB,EAAGgB,GAAWb,GAAUA,EAASc,IAAUjB,GAAKG,GAAUA,EAASc,MA4BrEC,mBAxByB,SAACC,GAI1B,IAHA,IAAMC,EAAgBD,EAAKC,cACrBC,EAAMC,MAAMC,KAAKH,EAAcI,YAE5BC,EAAI,EAAGA,EAAIJ,EAAIK,OAAQD,IAC9B,GAAIJ,EAAII,KAAON,EAAM,OAAOM,EAE9B,OAAQ,GAkBRE,mBAfyB,SAACC,EAAyCC,EAAUZ,GAC7E,IAAMvB,EAASW,EAAQZ,gBACjBqC,EAAapC,EAAOO,OAASP,EAAOO,MAAQgB,IAAU,EACtDc,EAAcrC,EAAOS,QAAUT,EAAOS,OAASc,IAAU,EAI/D,MAAO,CAAElB,EAHC6B,EAAK3B,MAAQ,GAAK4B,EAAI9B,EAAIL,EAAOK,GAAK+B,EAGpC9B,EAFF4B,EAAKzB,OAAS,GAAK0B,EAAI7B,EAAIN,EAAOM,GAAK+B,KAapC1B,I,+DC9DF2B,EAAb,WAOI,WAAYC,GAAmB,IAAD,gCALdA,WAKc,OAJdC,MAAgC,GAIlB,KAHdC,kBAAoB,IAGN,KAFdC,qBAAuB,EAGnCC,KAAKJ,MAAQA,EACb,IAAQK,EAAaD,KAAKJ,MAAlBK,SACRC,OAAOC,KAAKF,GAAUG,KAAI,SAACC,GAAD,OAAQ,EAAKR,MAAMS,OAAOD,IAAO,IAAIE,EAAKD,OAAOD,GAAK,MAVxF,uCAaI,WACI,OAAOH,OAAOM,QAAQR,KAAKH,OAAOY,QAAO,oDAAsBC,UAAQN,KAAI,SAAAO,GAAE,OAAIA,EAAG,QAd5F,qBAiBI,SAAQN,GACJ,OAAOL,KAAKH,MAAMQ,KAlB1B,sBAqBI,WACIL,KAAKY,MAAMC,SAAQ,SAAAC,GACfA,EAAKC,qBACLD,EAAKE,qBAxBjB,2BA4BI,YAA0E,IAA1DC,EAAyD,EAAzDA,QAASC,EAAgD,EAAhDA,UAAWC,EAAqC,EAArCA,MAAOC,EAA8B,EAA9BA,QAEvC,KAAmB,IAAdF,GAAmBlB,KAAKqB,QAAQJ,GAASK,SAASJ,GAAW7B,QAAWW,KAAKqB,QAAQF,GAAOT,QAAjG,CAGA,IAAMa,EAAG,UAAMN,EAAN,YAAiBC,EAAjB,YAA8BC,EAA9B,YAAuCC,GACxCI,EAAgBxB,KAAKJ,MAArB4B,iBAGiBC,IAArBD,EAAYD,KAGhBC,EAAYD,GAAO,OAxC3B,sBA2CI,YAA4C,IAAjCG,EAAgC,EAAhCA,GAAIC,EAA4B,EAA5BA,GAAIC,EAAwB,EAAxBA,OAEPhC,EAAUI,KAAVJ,MACFiC,ED/CqB,SAACD,EAAgBhC,GAClD,IAAQkC,EAAUlC,EAAVkC,MACR,OAAO5B,OAAOC,KAAK2B,GAAOrB,QAAO,SAAAc,GAAG,OAAIA,EAAIQ,MAAM,MAAM,KAAO,GAAKH,KC6C7CI,CAAoBJ,EAAQhC,GAC7CA,EAAMkC,MAAQD,EAASI,QAAO,SAACC,EAAKC,GAKhC,OAJAD,EAAIC,GAAW,CACXzE,EAAGwE,EAAIC,GAASzE,EAAIgE,EACpB/D,EAAGuE,EAAIC,GAASxE,EAAIgE,GAEjBO,IALG,eAMNtC,EAAMkC,QAGdlC,EAAMK,SAAS2B,GAAQpC,IAAI9B,GAAKgE,EAChC9B,EAAMK,SAAS2B,GAAQpC,IAAI7B,GAAKgE,IAzDxC,sBA4DI,YAA4C,IAAjCD,EAAgC,EAAhCA,GAAIC,EAA4B,EAA5BA,GAAIC,EAAwB,EAAxBA,OACf5B,KAAKoC,SAAS,CAAEV,KAAIC,KAAIC,WASxB,IAAMS,EAAcrC,KAAKqB,QAAQO,GAC7BS,EAAYC,yBAELtC,KAAKJ,MAAM4B,YAAYa,EAAYC,kBAE9C,IAAMC,EAAgBF,EAAYG,UAClC,GAAKD,EAAL,CACA,IAAME,EAA0D,GAWhE,GAVAvC,OAAOM,QAAQR,KAAKH,OACfgB,SAAQ,YAAiB,IAAD,mBAAdR,EAAc,KAAVS,EAAU,KACjBR,OAAOD,KAAQuB,GAEnBd,EAAK4B,SAAS7B,SAAQ,YAAiB,IAAD,mBAAdU,EAAc,KAAT/B,EAAS,KAC5BmD,EAAWpE,KAAKqE,MAAML,EAAc7E,EAAI8B,EAAI9B,EAAG6E,EAAc5E,EAAI6B,EAAI7B,GAC3E8E,EAAcI,KAAK,CAAEtB,MAAKoB,mBAGtCF,EAAcK,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAEJ,SAAWK,EAAEL,YACzCF,EAAcpD,OAAQ,CACtB,IAAM4D,EAAcR,EAAc,GAC9BQ,EAAYN,SAAW3C,KAAKF,kBAE5BE,KAAKJ,MAAMsD,cAAgBD,EAAY1B,IAEvCvB,KAAKJ,MAAMsD,mBAAgBzB,MA9F3C,4BAmGI,WACI,IAAI0B,EAAYnD,KAAKY,MACrBuC,EAAUtC,SAAQ,SAAAC,GAAI,OAAIA,EAAKsC,OAAO,CAAEC,KAAMvC,EAAKT,GAAIiD,KAAM,OAE7D,IAJa,iBAKT,IAAMC,EAA6B,GACnCJ,EAAUtC,SAAQ,SAAAC,GACd,IAAIwC,EAAOxC,EAAKwC,KAAiB,EACzBE,EAAmB1C,EAAnB0C,SAAUH,EAASvC,EAATuC,KAClB,GAAIG,EAASnE,OAAQ,CACjBoE,QAAQC,IAAI,CAAEF,aADG,oBAECA,GAFD,IAEjB,2BAA4B,SACpBJ,OAAO,CAAEE,KAAMA,IAAQD,UAHd,+BAMrB,IAAMM,EAAY7C,EAAKQ,SAAS,GAChCqC,EAAU9C,SAAQ,SAAA+C,GAAQ,OAAIA,EAASR,OAAO,CAAEC,OAAMC,YACtDC,EAAcV,KAAd,MAAAU,EAAa,YAASI,OAE1BR,EAAYI,GAfTJ,EAAU9D,QAAS,MAvGlC,kCA0HI,SAAqByB,QA1HzB,KA+HMP,E,WAQF,WAAYF,EAAYwD,GAAa,yBAPrBxD,QAOoB,OANnBT,WAMmB,OALpBiE,UAKoB,OAJpBC,eAIoB,OAHpBC,SAAW,GAGS,KAFpBC,SAAW,GAGvBhE,KAAKK,GAAKA,EACVL,KAAK6D,KAAOA,EACZ7D,KAAKJ,MAAQiE,EAAKjE,MAClBI,KAAK8D,UAAY9D,KAAKJ,MAAMK,SAASD,KAAKK,I,sCAG9C,WACI,OAAOL,KAAK8D,UAAUT,O,gBAG1B,WACI,OAAOrD,KAAK8D,UAAUR,O,gBAG1B,WACI,OAAOtD,KAAK8D,UAAUG,O,qBAG1B,WAAkC,IAAD,SAC7B,iBAAO/D,OAAOM,QAAQR,KAAKJ,MAAMkC,OAAOoC,MAAK,mCAAE3C,EAAF,iBAAkBA,IAAG,UAAQ,EAAKlB,GAAb,mBAAlE,aAAO,EAAqF,K,oBAGhG,WAAgB,IAAD,OACX,OAAOH,OAAOM,QAAQR,KAAKJ,MAAMkC,OAAOrB,QAAO,mCAAEc,EAAF,iBAAgBA,EAAI4C,WAAJ,UAAkB,EAAK9D,GAAvB,c,kBAGnE,WAA2B,IAAD,SAChB+D,EAAQ,UAAGlE,OAAOC,KAAKH,KAAKJ,MAAM4B,aAAa0C,MAAK,SAAA3C,GAAG,OAAIA,EAAIQ,MAAM,KAAK,KAAO,EAAK1B,GAAGgE,qBAAjF,aAAG,EAA2FtC,MAAM,KAAK,GACvH,OAAOqC,EAAWpE,KAAK6D,KAAKxC,QAAQf,OAAO8D,IAAa,O,4BAG5D,WAAwB,IAAD,OACnB,OAAOlE,OAAOC,KAAKH,KAAKJ,MAAM4B,aAAa0C,MAAK,SAAC3C,GAAS,IAAD,EAC/CvC,EAAMuC,EAAIQ,MAAM,KAAK3B,IAAIE,QAC/B,OAAOtB,EAAI,MAAJ,UAAW,EAAK0B,cAAhB,aAAW,EAAaL,KAAMrB,EAAI,KAAO,EAAKqB,IAAiB,IAAXrB,EAAI,Q,qBAIvE,WACI,OAAOgB,KAAK8D,UAAUQ,Y,gCAG1B,WACI,IAAMhD,EAAWtB,KAAKuE,KAClBC,EAAoB,EACxBlD,EAAST,SAAQ,SAAAC,GACb0D,GAAqB1D,EAAKC,wBAE9B,IAAM0D,EAAMlG,KAAKmG,IAAI1E,KAAKpC,MACtB4G,EAAoBxE,KAAK+D,UAAYzC,EAASjC,OAAS,IAE3D,OADAW,KAAKoD,OAAO,CAAEkB,UAAWG,IAClBA,I,2BAKX,WACI,IAAQF,EAASvE,KAATuE,KACR,GAAKA,EAAKlF,OAAV,CAEA,IAJY,EAIRsF,EAAO3E,KAAKR,IAAI9B,GAAKsC,KAAKe,qBAAuB,EAAIf,KAAKpC,MAAQ,GAJ1D,cAKO2G,GALP,IAKZ,2BAAyB,CAAC,IAAfzD,EAAc,QACfpD,EAAIiH,GAAQ7D,EAAKC,qBAAuB,EAAID,EAAKlD,MAAQ,GAC/DkD,EAAK8D,OAAO,CAAElH,IAAGC,EAAGmD,EAAKtB,IAAI7B,IAE7BgH,GAAQ7D,EAAKC,qBAAuBf,KAAK+D,UATjC,kC,sBAahB,SAASc,GAAiB,IAAD,OACrB,OAAO3E,OAAOC,KAAKH,KAAKJ,MAAM4B,aACzBf,QAAO,SAAAc,GAAG,OAAIA,EAAIQ,MAAM,KAAK,KAAO,EAAK1B,GAAGgE,YAAc9C,EAAIQ,MAAM,KAAK,KAAO8C,EAAOR,cACvFjE,KAAI,SAAA0E,GAAI,OAAI,EAAKjB,KAAKxC,QAAQf,OAAQwE,EAAK/C,MAAM,KAAK,U,4BAG/D,WACI,IAAI/B,KAAKU,OAAT,CAEA,IACM2C,EAAOrD,KAAKK,GAClBL,KAAKoD,OAAO,CAAEE,KAFH,EAESD,Y,gBAKxB,WACI,OAAOrD,KAAKsB,SAAS,K,wBAGzB,WACI,OAAOtB,KAAKsB,SAAS,GAAG,K,oBAK5B,WACI,OAAOtB,KAAKsB,SAAS,K,iBAKzB,WACI,IAAIZ,EAASV,KAAKU,OAClB,QAAIA,IACIA,EAAOqE,eAAiB/E,MACrBU,EAAOsE,S,6BAKtB,WAEI,OAAO,O,oBAMX,WAKI,IAJA,IAAMC,EAAgB,GAClBnE,EAAad,KACbkF,EAAcpE,EAAKiE,aAEK,IAArBjE,EAAKyD,KAAKlF,QACb4F,EAAcpC,KAAK/B,GACnBoE,EAAcA,GAAepE,EAAKiE,aAClCjE,EAAOA,EAAKyD,KAAK,GAGrB,OAAQzD,EAAKyD,KAAKlF,OAAS,EAAK,KAAO,CAAE4F,gBAAeC,iB,kBAG5D,WACI,OAAOlF,KAAKJ,MAAMK,SAASD,KAAKK,IAAIvC,S,iBAExC,WACI,OAAOkC,KAAKJ,MAAMK,SAASD,KAAKK,IAAIzC,Q,gBAGxC,WACI,MAAO,K,eAGX,WACI,OAAOoC,KAAKJ,MAAMK,SAASD,KAAKK,IAAIb,M,oBAGxC,SAAO2F,GACH,IAAQ3F,EAAQQ,KAARR,IACA9B,EAASyH,EAATzH,EAAGC,EAAMwH,EAANxH,EACXqC,KAAK6D,KAAKzB,SAAS,CAAER,OAAQ5B,KAAKK,GAAIqB,GAAIhE,EAAI8B,EAAI9B,EAAGiE,GAAIhE,EAAI6B,EAAI7B,M,oBAGrE,SAAOyH,GACH,IAAMC,EAAUC,IAAOC,MAAMvF,KAAK8D,UAAWsB,GAC7ClF,OAAOsF,OAAOxF,KAAK8D,UAAWuB,O,KCjSzBI,EAA0B,CACrC7D,OAAQ,EACR8D,YAAY,EACZC,OAAQ,CACNC,MAAM,EACNC,wBAAwB,EACxBC,gBAAiB,CACfpI,EAAG,EACHC,EAAG,GAELiB,KAAM,CACJmH,MAAO,EACPrB,IAAK,EACLsB,IAAK,GACLC,KAAM,KAGVhG,SAAU,GACVuB,YAAa,GACb0E,iBAAkB,GAClBpE,MAAO,GACPqE,OAAQ,KACRC,SAAU,KACVC,WAAY,KACZC,WAAY,KACZC,iBAAkB,KAClBC,UAAW,KACXC,UAAU,EACVC,kBAAmB,CAAEhI,aAAS+C,EAAW9C,aAAS8C,IAGvCkF,EAAU,SAAC/G,EAAkBgH,GACxChH,EAAMK,SAASL,EAAMgC,QAArB,2BAAoCgF,GAApC,IAA6CvG,GAAIT,EAAMgC,OAAQ9D,OAAQ,EAAGF,MAAO,IACjFgC,EAAMwG,SAAWxG,EAAMgC,SACvBhC,EAAMuG,OAAS,CAAEU,KAAM,OAAQT,SAAUxG,EAAMwG,UAC/CxG,EAAM+F,OAAOC,MAAO,GA2BhBkB,EAAQC,YAAY,CACxBC,KAAM9J,EAAO+J,SACbxB,eACAyB,SAAU,CACRC,YAAa,SAACvH,EAAD,GAAiD,IAAvCgH,EAAsC,EAAtCA,QACrBhH,EAAM6G,SAAWG,GAEnBQ,MArBU,SAACxH,GACA,IAAID,EAAKC,GAIjByH,YAiBHV,QAAS,SAAC/G,EAAD,OAAqBgH,EAArB,EAAqBA,QAArB,OAA4DD,EAAQ/G,EAAOgH,IACpFxE,SAAU,SAACxC,EAAO0H,GAAR,OAAiD,IAAI3H,EAAKC,GAAQ2H,SAASD,EAAOV,UAC5FY,qBAAsB,SAAC5H,EAAD,GAA8D,IAAzCgH,EAAwC,EAAxCA,QACzChH,EAAM8G,kBAAoBE,GAE5Ba,SAAU,SAAC7H,GACTA,EAAM+F,OAAOC,MAAO,EACpBhG,EAAMuG,OAAS,KACfvG,EAAMwG,SAAW,KACjBxG,EAAM0G,WAAa,MAErBH,OAAQ,SAACvG,EAAD,GAAqI,IAA3HgH,EAA0H,EAA1HA,QACRC,EAAmBD,EAAnBC,KAAMT,EAAaQ,EAAbR,SACdxG,EAAM+F,OAAOC,KAAgB,SAATiB,EACpBjH,EAAMuG,OAASS,EACfhH,EAAMwG,SAAN,OAAiBA,QAAjB,IAAiBA,IAAY,MAE/BsB,WAAY,SAAC9H,EAAD,GAA4G,IAAD,IAAjGgH,QAAWe,EAAsF,EAAtFA,UAAWC,EAA2E,EAA3EA,UACtChI,EAAM8F,aACR9F,EAAM+F,OAAOG,gBAAgBpI,GAAKiK,EAClC/H,EAAM+F,OAAOG,gBAAgBnI,GAAKiK,IAGtClC,WAAY,SAAC9F,EAAD,GAAiD,IAAvCgH,EAAsC,EAAtCA,QACpBhH,EAAM8F,WAAakB,GAErBiB,gBAAiB,SAACjI,EAAD,GAAgK,IAAD,MAArJgH,QAAWe,EAA0I,EAA1IA,UAAWC,EAA+H,EAA/HA,UAAWlJ,EAAoH,EAApHA,QAASC,EAA2G,EAA3GA,QACnE,GAAIiB,EAAM8F,WACR9F,EAAM+F,OAAOG,gBAAgBpI,GAAKiK,EAClC/H,EAAM+F,OAAOG,gBAAgBnI,GAAKiK,OAC7B,GAA2B,YAAvB,UAAAhI,EAAMuG,cAAN,eAAcU,MACvBjH,EAAM2G,iBAAmB,CAAE7H,UAASC,gBAC/B,GAAIiB,EAAM+F,OAAOC,MAAkC,kBAAnBhG,EAAMwG,SAAuB,CAElE,IAAMxE,EAAShC,EAAMwG,SACrB,EAA2CxG,EAAM8G,kBAAhCoB,EAAjB,EAAQpJ,QAAyBqJ,EAAjC,EAAwBpJ,QACxBiB,EAAM8G,kBAAoB,CAAEhI,UAASC,WACrC,IAAMqJ,EAAQpI,EAAM+F,OAAO/G,KAAKmH,MAC1BrE,GAAMhD,EAAUoJ,GAASE,EACzBrG,GAAMhD,EAAUoJ,GAASC,EAC9B,IAAIrI,EAAKC,GAAQ2H,SAAS,CAAE3F,SAAQD,KAAID,SAG7CuG,cAAe,SAACrI,GAAW,IAAD,EAClBiE,EAAO,IAAIlE,EAAKC,GACtB,GAAIA,EAAMsD,cAAe,CACvB,MAAgCtD,EAAMsD,cAAcnB,MAAM,KAAK3B,KAAI,SAAA8H,GAAC,OAAI5H,OAAO4H,MAA/E,mBAAOjH,EAAP,KAAmBC,GAAnB,WACMC,EAAQb,OAAOV,EAAMwG,UAE3BvC,EAAKsE,cAAc,CAAClH,UAASC,YAAWC,QAAOC,QAD/B,IAGlBxB,EAAMsD,mBAAgBzB,EACtB7B,EAAM2G,iBAAmB,KACzB3G,EAAM8F,YAAa,EACnB9F,EAAM+F,OAAOC,MAAO,EACO,YAAvB,UAAAhG,EAAMuG,cAAN,eAAcU,QAChBjH,EAAMuG,OAAS,OAInBiC,WAAY,SAACxI,GACX,IAAQ4B,EAA2C5B,EAA3C4B,YAAavB,EAA8BL,EAA9BK,SAAU6B,EAAoBlC,EAApBkC,MAAOsE,EAAaxG,EAAbwG,SACjCA,GAAiC,kBAAbA,IAGzBlG,OAAOC,KAAKqB,GAAaS,QAAO,SAACoG,EAAGC,GAClC,IAAMtJ,EAAMsJ,EAAIvG,MAAM,KAAK3B,KAAI,SAAA8H,GAAC,OAAIK,SAASL,MAI7C,OAHa,EAATlJ,EAAI,KAAWoH,GAAqB,EAATpH,EAAI,KAAWoH,UACrC5E,EAAY8G,GAEd,OACN,MAEHpI,OAAOC,KAAK2B,GAAOG,QAAO,SAACoG,EAAGC,GAK5B,OAHa,EADDA,EAAIvG,MAAM,KAAK3B,KAAI,SAAA8H,GAAC,OAAIK,SAASL,MACrC,KAAW9B,UACVtE,EAAMwG,GAER,OACN,aAEIrI,EAASmG,GAEhBxG,EAAMuG,OAAS,KACfvG,EAAMwG,SAAW,KACjBxG,EAAM0G,WAAa,OAErBkC,WAAY,SAAC5I,GACX,IAAQwG,EAA0BxG,EAA1BwG,SAAU5E,EAAgB5B,EAAhB4B,YACM,kBAAb4E,UACF5E,EAAY4E,IAEvBqC,KA1HS,SAAC7I,EAAD,GAA6D,IAAxCgH,EAAuC,EAAvCA,QAKhC,OAJA1G,OAAOsF,OAAO5F,EAAO6F,GACrB7F,EAAMK,SAAW2G,EAAQ3G,SACzBL,EAAMgC,OAAS1B,OAAOC,KAAKyG,EAAQ3G,UAAUZ,OAAS,EACtDO,EAAM4B,YAAcoF,EAAQpF,YACrB5B,GAsHLuI,cAAe,SAACvI,EAAO0H,GACR,IAAI3H,EAAKC,GACjBuI,cAAcb,EAAOV,UAE5B8B,MAAO,kBAAMjD,GACbkD,UAAW,SAAC/I,EAAD,GAA+C,IAArCgH,EAAoC,EAApCA,QACnBhH,EAAMkC,MAAN,2BAAmBlC,EAAMkC,OAAU8E,IAErChI,KAAM,SAACgB,EAAD,GAAwD,IAA9CgH,EAA6C,EAA7CA,QACNhI,EAASgB,EAAM+F,OAAf/G,KACAmH,EAA0BnH,EAA1BmH,MAAOrB,EAAmB9F,EAAnB8F,IAAKsB,EAAcpH,EAAdoH,IAAKC,EAASrH,EAATqH,KACnB2C,EAAW7C,GAASa,EAAUX,GAAQA,GACxC2C,GAAYlE,GAAOkE,GAAY5C,IACjCpH,EAAKmH,MAAQ6C,GAEC,OAAZhC,IACFhH,EAAM+F,OAAOG,gBAAkB,CAAEpI,EAAG,EAAGC,EAAG,GAC1CiB,EAAKmH,MAAQ,IAGjB8C,SAAU,SAACjJ,EAAD,GAA8G,IAAD,IAAnGgH,QAAW9I,EAAwF,EAAxFA,OAAQF,EAAgF,EAAhFA,MAAOyC,EAAyE,EAAzEA,GAC5CT,EAAMK,SAASI,GAAIvC,OAASA,EAC5B8B,EAAMK,SAASI,GAAIzC,MAAQA,MAKpBkL,EAAUhC,EAAMgC,QAChBC,EAAgBjC,EAAMkC,QAGtBC,EAAuB,SAACrJ,GAAD,OAAsBA,EAAMsJ,MAAMtJ,EAAMuJ,U,OCrM/DC,EAAiB,kBAAMC,eACvBC,EAAkDC,I,OCGhDC,EALI,CACfC,OCFoB,SAACC,GACrB,IAAQC,EAAkCD,EAAlCC,SAAUC,EAAwBF,EAAxBE,OAAQxK,EAAgBsK,EAAhBtK,EAAGqH,EAAaiD,EAAbjD,SAU7B,OACI,kDACQkD,GADR,IAEIE,MAAM,6BACNC,UAAU,QACVC,EAAG,EACHC,YAdY,SAACC,GACbxD,GACJiD,EAAMvD,OAAO8D,EAAG,CACZL,SACAxK,WDJR8K,KEIS,SAACR,GACV,IAAQE,EAAcF,EAAdE,OAAQO,EAAMT,EAANS,EAER/D,EADMkD,EAAeL,GACrB7C,SACFgE,EAAWhB,IAGXU,EAAY,cAAiB1D,IAAawD,GAAUA,EAAU,SAAW,IAE/E,OAAO,sBACHC,MAAM,6BACNC,UAAWA,EACXK,EAAGA,EACHH,YAAa,SAACC,GACVA,EAAEI,kBAEFD,EAAStB,EAAQ3C,OAAO,CAAEU,KAAM,OAAQT,SAAUwD,U,QCvBjDU,EAAQ,SAACZ,GAClB,OACI,qBAAKI,UAAU,aAAf,+ECgKOS,EA3JW,SAAC,GAA4B,IAA1BlK,EAAyB,EAAzBA,GACzB,EACIiJ,EAAeL,GADX/F,EAAR,EAAQA,cAAetB,EAAvB,EAAuBA,OAAQwE,EAA/B,EAA+BA,SAAUD,EAAzC,EAAyCA,OAAQrE,EAAjD,EAAiDA,MAAO6D,EAAxD,EAAwDA,OAA0B7E,EAAlF,EAAgEb,SAAaI,GAGvE+J,EAAWhB,IACTnF,EAAcnD,EAAdmD,KAAMzE,EAAQsB,EAARtB,IACNZ,EAAS+G,EAAT/G,KAER,EAAwB4L,mBAAS,CAC7BC,OAAQ,GACRC,QAAS,KAFb,mBAAOC,EAAP,KAAaC,EAAb,KAIMC,EAAMC,iBAAuB,MAE7BC,EAAgB,SAAClE,GAGnB,IAFA,IAAI7H,EAAM,GAD4B,WAG7BI,GACL,IAAMmC,EAAG,UAAMsF,EAAN,eAAiBzH,GACpB+C,EAAO,UAAM9B,EAAN,YAAYwG,EAAZ,YAAoBzH,GAC3B6E,EACF,qBACI+F,YAAa,SAACC,GACVA,EAAEI,kBACFD,EAAStB,EAAQ3C,OAAO,CACpBU,KAAOA,EAAO,MACdhC,OAAQzF,EACRgH,SAAU/F,MAIlByJ,UAAS,UAAKjD,EAAL,eAAgBtF,EAAhB,YAAuBY,GAChC6I,UAAW,SAAAf,GACP,GAAa,OAATpD,GAAqC,kBAAbT,IAAyB,OAACD,QAAD,IAACA,OAAD,EAACA,EAAQtB,QAA9D,CACA,IAAM1D,EAAQd,EACRe,EAAUhC,EACV6B,EAAUmF,EACVlF,EAAYiF,EAAOtB,OAErB5D,IAAYE,GAChBiJ,EAAStB,EAAQX,cAAc,CAAElH,UAASC,YAAWC,QAAOC,eAnBpE,SAsBI,qBAAK0I,UAAS,oBAAgB5G,IAAkBf,EAAW,IAAQ,gBAb9DZ,GAebvC,EAAI6D,KAAKoB,IA5BJ7E,EAAI,EAAGA,GAAK6E,EAAK4C,GAAOzH,IAAM,EAA9BA,GA+BT,OACI,qBAAK0K,UAAS,UAAKjD,EAAL,QAAd,SACK7H,KAKbiM,qBAAU,WACN,GAAIJ,EAAIK,QAAS,CAEb,IAAMT,EAASxL,MAAMC,KAAK2L,EAAIK,QAAQ3N,cAAc,WAAW+D,UAEzDoJ,EAAUzL,MAAMC,KAAK2L,EAAIK,QAAQ3N,cAAc,YAAY+D,UAEjEsJ,EAAQ,CAAEH,SAAQC,eAEvB,CAACG,IAEJI,qBAAU,WACN,GAAIJ,EAAIK,QAAS,CACb,MAAsCL,EAAIK,QAAlCC,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,YACtBhB,EAAStB,EAAQD,SAAS,CAAE/K,OAAQqN,EAAcvN,MAAOwN,EAAa/K,YAM9E,IAAMgL,EAAa,SAACxE,EAAgBzH,EAAWN,GAC3C,IAAMyC,EAAG,UAAMlB,EAAN,YAAYwG,EAAZ,YAAoBzH,GAC7B,IAAK0C,EAAMP,GAAM,CACb,IAAM+J,EAAOxM,EAAKrB,wBACZ8B,EAAO,CACT3B,MAAOkB,EAAKsM,YACZtN,OAAQgB,EAAKqM,cAEX3L,EAAM,CACR9B,EAAG4N,EAAK5N,EACRC,EAAG2N,EAAK3N,GAEZ,OAAO,eACF4D,EAAMvD,EAAQsB,mBAAmBC,EAAMC,EAAKZ,EAAKmH,UA0B9D,OArBAkF,qBAAU,WACN,GAAIN,EAAKF,QAAUE,EAAKD,SAAWzG,EAAKsH,KAAOZ,EAAKF,OAAOpL,QAAU4E,EAAKuH,MAAQb,EAAKD,QAAQrL,OAAQ,CACnG,IAAIoM,EAAW,GACfA,EAAWvL,OAAOsF,OAAOiG,EAAUd,EAAKF,OAAOxI,QAAO,SAACC,EAAKpD,EAAMM,GAC9D,OAAOc,OAAOsF,OAAOtD,EAAKmJ,EAAW,KAAMjM,EAAI,EAAGN,MACnD,KACH2M,EAAWvL,OAAOsF,OAAOiG,EAAUd,EAAKD,QAAQzI,QAAO,SAACC,EAAKpD,EAAMM,GAC/D,OAAOc,OAAOsF,OAAOtD,EAAKmJ,EAAW,MAAOjM,EAAI,EAAGN,MACpD,KACHsL,EAAStB,EAAQH,UAAU8C,OAEhC,CAACrB,EAAUnG,EAAM0G,IAEpBM,qBAAU,WAEN,GAAIJ,EAAIK,SAAWtJ,EAAS,IAAMvB,GAAMsF,EAAOC,KAAM,CACjD,MAAsCiF,EAAIK,QAAlCC,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,YACtBhB,EAAStB,EAAQ1G,SAAS,CAAER,OAAQvB,EAAIqB,GAAmB,IAAd0J,EAAmBzJ,GAAoB,IAAfwJ,QAE1E,IAGC,sBACIN,IAAKA,EACLf,UAAW,eAAQzJ,EAAR,iCAA4C+F,IAAa/F,EAAK,UAAY,IACrFqL,MAAO,CACHC,IAAKnM,EAAI7B,EAAI,KACbiO,KAAMpM,EAAI9B,EAAI,KACdmO,OAAQ,QAEZ7B,YAAa,SAAAC,GACTA,EAAEI,kBACF,IAAQ3L,EAAqBuL,EAArBvL,QAASC,EAAYsL,EAAZtL,QACjByL,EAAStB,EAAQ3C,OAAO,CAAEU,KAAM,OAAQT,SAAU/F,KAClD+J,EAAStB,EAAQtB,qBAAqB,CAAE9I,UAASC,cAErDmN,cAAe,SAAA7B,KAGf8B,cAAe,aAjBnB,UAqBKhB,EAAc,MACf,qBACIjB,UAAU,wBADd,SAGI,cAAC,EAAD,CAAOkC,YAAY,MAAMhF,KAAK,SAASiF,OAAO,iBAEjDlB,EAAc,W,uBCvJrBmB,EAAkB,SAAC7M,EAAgB8M,GAGrC,IAHgF,IAAvBzH,EAAsB,uDAAhB,GAAIsB,EAAY,uDAAN,EACnEoG,EAAS,GACThM,EAAM,iEACHiM,EAAI,EAAGA,EAAIhN,EAAQgN,IAAK,CAE7B,IADA,IAAIC,EAAO,GACFlN,EAAI,EAAGA,EAAIb,KAAKgO,MAAMhO,KAAKiO,UAAY9H,EAAMsB,GAAOA,GAAM5G,IAC/DkN,GAAQlM,EAAIqM,OAAOlO,KAAKgO,MAAMhO,KAAKiO,SAAWpM,EAAIf,SAElD8M,EAAW9M,OAAS,IACpBiN,GAAQH,GAEZC,EAAOvJ,KAAKyJ,GAEhB,OAAOF,GCJIM,EALF,CACTC,SCFS,uCAAG,gCAAA5J,EAAA,sDA4Bd,IA3BMqC,EAAY,CAChB,MAAS,GAET,YAAe,CACb,UAAW,GACX,UAAW,KAITtE,EAAO,CACX,GAAM,EACN,KAAQ7D,EAAU2P,OAClB,KAAQ,CACN,KAAQ,UACR,KAAQ,cACR,MAAS,QAEX,KAAQ,CACN,GAAM,EACN,IAAO,GAET,IAAO,CACL,EAAK,QACL,EAAK,KAIAxN,EAAI,EAAGA,EAAI,IAAKA,EACvB0B,EAAKT,GAAKjB,EACV0B,EAAKsE,KAAK4B,KAAV,eAAyB5H,GACzB0B,EAAKtB,IAAI9B,EAAI,IAAM0B,EACnB0B,EAAKtB,IAAI7B,EAAI,GAAKyB,EAClBgG,EAAKvF,MAAMT,GAAKyN,KAAKC,MAAMD,KAAKE,UAAUjM,IAjC9B,yBAqCPsE,GArCO,2CAAH,qDDGT4H,WDUW,uCAAG,WAAOC,GAAP,mBAAAlK,EAAA,sDAOd,IANMmK,EAAM,iBAAO,CACfrG,KAAM,MACNG,KAAM,OACNjB,MAAOmG,EAAgB,EAAG,GAAI,GAAI,GAAG,KAEnCzH,EAAM,GACHrF,EAAI,EAAGA,EAAI6N,IAAU7N,EAC1BqF,EAAI5B,KAAKqK,KARC,yBAUPzI,GAVO,2CAAH,uDGTF0I,EAAgBC,YAAqB,oBACrCC,EAAaD,YAAwB,cACrCE,EAAeF,YAAqB,gBAE3C3H,EAAyB,CAC7B0D,QAAS,EACTD,MAAO,CAACqE,EAAsBA,EAAsBA,GACpDC,UAAW,GACXF,aAAc,GAGHG,EAAqBC,YAAiB,aAAD,sBAAe,sBAAA3K,EAAA,sEAClD2J,EAAKM,WAAW,GADkC,oFAIpDW,EAAmBD,YAAiB,mBAAD,sBAAqB,sBAAA3K,EAAA,sEACtD2J,EAAKC,WADiD,oFAK/D3D,EAAU4E,YAAcnI,GAAc,SAACoI,GAC3CA,EACGC,QAAQX,GAAe,SAACvN,EAAD,GAAyB,IAAfgH,EAAc,EAAdA,QAChChH,EAAMuJ,QAAUvC,KAEjBkH,QAAQT,GAAY,SAACU,EAAD,GAAsF,IAAD,IAA9DnH,QAAWlI,EAAmD,EAAnDA,QAASC,EAA0C,EAA1CA,QAC9D,GAAKoP,EAAST,aAAd,CAEA,IAAM1N,EAAQmO,EAAS7E,MAAM6E,EAAS5E,SAChCrI,EFzBD,CACH,KAAQ7D,EAAU2P,OAClB,KAAQ,CACJ,KAAQ,SACR,KAAQ,eACR,MAAS,UAEb,KAAQ,CACJ,GAAM,EACN,IAAO,GAEX,IAAO,CACH,GAAM,GACN,EAAK,MEaX9L,EAAKtB,IAAMxB,EAAQS,OAAOC,EAASC,EAASiB,EAAM+F,OAAO/G,KAAKmH,OAC9DnG,EAAM8G,kBAAoB,CAAEhI,UAASC,WACrCgI,EAAQ/G,EAAOkB,GACfiN,EAAST,kBAAe7L,MAEzBqM,QAAQR,GAAc,SAACS,EAAD,GAA0B,IAAdnH,EAAa,EAAbA,QACjCmH,EAAST,aAAe1G,KAEzBkH,QAAQL,EAAmBO,WAAW,SAACpO,EAAO0H,GAC7C1H,EAAM4N,UAAYlG,EAAOV,WAE1BkH,QAAQH,EAAiBK,WAAW,SAACpO,EAAO0H,GAC3C,MAAyCA,EAAOV,QAAjC3G,EAAf,EAAQJ,MAAiB2B,EAAzB,EAAyBA,YACzB5B,EAAMsJ,MAAMtJ,EAAMuJ,SAAWJ,EAC3BnJ,EAAMsJ,MAAMtJ,EAAMuJ,SAClB,CACEtC,KAAM3J,EAAO+J,SAAW,QACxBL,QAAS,CAAE3G,WAAUuB,oBAK1ByM,YACC,SAAC3G,GAAD,OAAYA,EAAOT,KAAK1C,WAAWjH,EAAO+J,aAC1C,SAACrH,EAAO0H,GACN1H,EAAMsJ,MAAMtJ,EAAMuJ,SAAWJ,EAAcnJ,EAAMsJ,MAAMtJ,EAAMuJ,SAAU7B,SAOlE4G,EAAQC,YAAe,CAClCnF,YCnDaoF,EAhBgB,WAC3B,IAAM3H,EAAW6C,GAAe,SAAA+E,GAAC,OAAIpF,EAAqBoF,GAAG5H,YACvD2D,EAAWhB,IAEjB,OACI,sBAAKU,UAAU,sBAAf,WACMrD,GACE,mCACI,wBAAQqD,UAAU,6BAA6BwE,QAAS,kBAAM7K,QAAQC,IAAI,UAA1E,qBAGR,wBAAQoG,UAAU,6BAA6BwE,QAAS,kBAAMlE,EAAStB,EAAQ3B,aAAaV,KAA5F,SAAyGA,EAAW,SAAW,aCC5H8H,EAZU,WACrB,IAAMnE,EAAWhB,IAEjB,OACI,sBAAKU,UAAU,gBAAf,UACI,wBAAQA,UAAU,uBAAuBwE,QAAS,kBAAMlE,EAAStB,EAAQlK,MAAK,KAA9E,eACA,wBAAQkL,UAAU,uBAAuBwE,QAAS,kBAAMlE,EAAStB,EAAQlK,MAAK,KAA9E,eACA,wBAAQkL,UAAU,uBAAuBwE,QAAS,kBAAMlE,EAAStB,EAAQlK,KAAK,QAA9E,uBCAC4P,EAAU,WACnB,IAAM5O,EAAQ0J,EAAeL,GAErB9C,EAAsDvG,EAAtDuG,OAAQR,EAA8C/F,EAA9C+F,OAAQ7D,EAAsClC,EAAtCkC,MAAOsE,EAA+BxG,EAA/BwG,SAAUG,EAAqB3G,EAArB2G,iBACzC,KAAI,OAACJ,QAAD,IAACA,OAAD,EAACA,EAAQtB,QAAoD,OAA1CpB,QAAQgL,MAAR,2BAAiD,KACxE,IAAMC,EAAQ,UAAMtI,EAAN,gBAAsBD,EAAOtB,QAE3C,IAAK/C,EAAM4M,GAAwD,OAA3CjL,QAAQgL,MAAR,4BAAkD,KAC1E,IAAKlI,EAA0D,OAAtC9C,QAAQgL,MAAR,uBAA6C,KAEtE,IAAMvQ,EAAQ,CACVR,EAAGoE,EAAM4M,GAAUhR,EACnBC,EAAGmE,EAAM4M,GAAU/Q,GAEjBiB,EAAO+G,EAAO/G,KAAKmH,MACjBrH,EAAqB6H,EAArB7H,QAASC,EAAY4H,EAAZ5H,QACXR,EAAMH,EAAQS,OAAOC,EAASC,EAASC,GACvCuL,EAAInM,EAAQC,gBAAgBC,EAAOC,GAEzC,OAAO,qBACH0L,MAAM,6BACNC,UAAU,sBAFP,SAIH,cAAC,EAAWI,KAAZ,CACIC,EAAGA,OAMFwE,GAAiB,WAC1B,MAA+BrF,EAAeL,GAAtCzH,EAAR,EAAQA,YAAaM,EAArB,EAAqBA,MAEf8M,EAAQ1O,OAAOM,QAAQgB,GAAapB,KAAI,YAAY,IAAVmB,EAAS,oBAE/CvC,EAAMuC,EAAIQ,MAAM,KAChB2M,EAAQ,UAAM1P,EAAI,GAAV,gBAAoBA,EAAI,IAChC6P,EAAM,UAAM7P,EAAI,GAAV,eAAmBA,EAAI,IAEnC,IAAK8C,EAAM4M,KAAc5M,EAAM+M,GAE3B,OAAO,KAGX,IAAM3Q,EAAQ,CACVR,EAAGoE,EAAM4M,GAAUhR,EACnBC,EAAGmE,EAAM4M,GAAU/Q,GAEjBQ,EAAM,CACRT,EAAGoE,EAAM+M,GAAQnR,EACjBC,EAAGmE,EAAM+M,GAAQlR,GAEfwM,EAAInM,EAAQC,gBAAgBC,EAAOC,GACzC,OAAO,8BACH,qBACI0L,MAAM,6BACNC,UAAU,sBAFd,SAII,cAAC,EAAWI,KAAZ,CACIN,OAAQrI,EACR4I,EAAGA,OAPE5I,MAarB,OAAO,mCAAGqN,KAGDE,GAAW,WACpB,IAAM7O,EAAWqJ,GAAe,SAAA+E,GAAC,OAAIpF,EAAqBoF,GAAGpO,YAE7D,OAAO,mCAAGC,OAAO6O,OAAO9O,GAAUG,KAAI,SAACU,GACnC,OAAO,cAAC,EAAD,CAEHT,GAAIS,EAAKT,IADJS,EAAKT,UAQT4G,GAAW,WACpB,MACMqC,EAAeL,GADb9C,EAAR,EAAQA,OAAR,IAAgBR,OAAhB,IAA0BG,gBAAmBpI,EAA7C,EAA6CA,EAAGC,EAAhD,EAAgDA,EAAKiB,EAArD,EAAqDA,KAAQ2H,EAA7D,EAA6DA,iBAGvD6D,EAAWhB,IAwBjB,OAtBA6B,qBAAU,WACNb,EAASuD,OACV,IAEH1C,qBAAU,WACN,IAAM+D,EAAgB,SAAC/E,GACL,WAAVA,EAAE1I,MACmB,UAAX,OAAN4E,QAAM,IAANA,OAAA,EAAAA,EAAQU,MACRuD,EAAStB,EAAQN,cAGjB4B,EAAStB,EAAQV,gBAK7B,OADA9K,SAAS2R,iBAAiB,UAAWD,GAC9B,WACH1R,SAAS4R,oBAAoB,UAAWF,MAE7C,CAAC5E,EAAD,OAAWjE,QAAX,IAAWA,OAAX,EAAWA,EAAQU,OAIlB,sBACIxG,GAAG,WACHyJ,UAAU,kBACVE,YAAa,SAACC,GACLA,EAAEkF,cAAcC,UAAUC,SAAS,qBACxCjF,EAAStB,EAAQpD,YAAW,IAC5B0E,EAAStB,EAAQrB,cAErBuD,UAAW,kBAAMZ,EAAStB,EAAQb,kBAClCqH,YAAa,SAACrF,GACV,IAAQvL,EAA2CuL,EAA3CvL,QAASC,EAAkCsL,EAAlCtL,QAASgJ,EAAyBsC,EAAzBtC,UAAWC,EAAcqC,EAAdrC,UACrCwC,EAAStB,EAAQjB,gBAAgB,CAAEnJ,UAASC,UAASgJ,YAAWC,gBAEpE2H,aAAc,SAACtF,GACX,IAAQvL,EAAqBuL,EAArBvL,QAASC,EAAYsL,EAAZtL,QACjByL,EAASiD,EAAW,CAAE3O,UAASC,cAfvC,UAkBI,cAAC,EAAD,IACA,cAAC,EAAD,IACA,sBACImL,UAAU,WACV4B,MAAO,CACH8D,UAAU,aAAD,OAAe9R,EAAf,eAAuBC,EAAvB,qBAAqCiB,EAAKmH,MAA1C,MAHjB,UAMI,cAAC,GAAD,IACA,cAAC,GAAD,IACCQ,GAAoB,cAAC,EAAD,WCzGtBkJ,GApCI,SAAC/F,GAChB,IAAQyC,EAAezC,EAAfyC,WACFuD,EAAOpG,GAAe,SAAA+E,GAAC,OAAIA,EAAEb,aAC7BpD,EAAWhB,IACXuG,EAAYxD,EAAWyD,cAAc7N,MAAM,KAAKtB,QAAO,SAAAoP,GAAI,OAAIA,EAAKxQ,OAAS,KAOnF,OAJA4L,qBAAU,WACNb,EAASqD,OACV,CAACrD,IAGA,qBACIN,UAAU,0BADd,SAGK4F,EAAKtP,KAAI,SAACyP,EAAMC,GACb,IAAQ9I,EAAsB6I,EAAtB7I,KAAMH,EAAgBgJ,EAAhBhJ,KAAMd,EAAU8J,EAAV9J,MACdgK,EAAQlD,KAAKE,UAAU8C,EAAM,KAAM,GAEzC,OACKF,EAAUzL,MAAK,SAAAoI,GAAI,OAAIyD,EAAMH,cAAcI,SAAS1D,QAAWqD,EAAUtQ,SAC1E,qBAEIyK,UAAU,sBACVmG,mBAAoB,SAAChG,GACjBG,EAASkD,EAAa,KAJ9B,SAOI,8CAAezG,EAAf,oBAA+Bd,EAAQiB,MANlC,2BAA6B8I,S,MCe3CI,OApCf,WAEE,MAAoC1F,mBAAS,IAA7C,mBAAO2B,EAAP,KAAmBgE,EAAnB,KACM/F,EAAWhB,IAEjB,OACE,sBAAKU,UAAU,MAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,qBAAKA,UAAU,4BAAf,SACE,uBACEjD,KAAK,OACLuJ,YAAY,mBACZC,SAAU,SAAApG,GAAOkG,EAAclG,EAAEqG,OAAOvK,YAG5C,qBAAK+D,UAAU,0BAAf,SACE,cAAC,GAAD,CACEqC,WAAYA,SAIlB,sBAAKrC,UAAU,OAAf,UACE,gCACE,wBAAQwE,QAAS,kBAAMlE,EAASuD,MAAhC,gCAEA,wBAAQW,QAAS,kBAAMlE,EAAS+C,EAAc,KAA9C,uBACA,wBAAQmB,QAAS,kBAAMlE,EAAS+C,EAAc,KAA9C,uBACA,wBAAQmB,QAAS,kBAAMlE,EAAS+C,EAAc,KAA9C,uBACA,wBAAQmB,QAAS,kBAAMlE,EAAStB,EAAQ1B,UAAxC,sBAEF,cAAC,GAAD,WC/BRmJ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUvC,MAAOA,EAAjB,SACE,cAAC,GAAD,QAGJ5Q,SAASoT,eAAe,W","file":"static/js/main.da118eca.chunk.js","sourcesContent":["export enum NODE_TYPE {\n    START = 'START',\n    MIDDLE = 'MIDDLE',\n    END = 'END',\n}\n\nexport enum Slices {\n    Drawflow = 'drawflow'\n}\n\nexport const CURV = 0.3;\n\nexport enum MODAL_TYPE {\n    NODE_SETTINGS = \"NODE_SETTINGS\",\n    GROUP_SETTINGS = \"GROUP_SETTINGS\",\n}\n\nexport type pos = {\n    x: number,\n    y: number,\n}\n\nexport type clientPos = {\n    clientX: number,\n    clientY: number,\n}\n\nexport type port = {\n    in: number,\n    out: number,\n}\n\nexport type portType = 'in' | 'out'\n\nexport type ports = {\n    [propName: string]: pos\n}\n\n\n\nexport type block = {\n    name: string,\n    type: string,\n    value: string,\n    create?: boolean\n}\n\n\n\nexport type dataNode = {\n    type: string\n    data: block\n    port: port\n    pos: pos\n}\n\nexport interface node extends dataNode {\n    id: number\n    height: number\n    width: number\n    lane?: number\n    position?: number\n    head?: number\n    fullWidth?: number\n}\n\ntype RecursivePartial<T> = {\n    [P in keyof T]?:\n    T[P] extends (infer U)[] ? RecursivePartial<U>[] :\n    T[P] extends object ? RecursivePartial<T[P]> :\n    T[P];\n}\n\nexport type updateNode = RecursivePartial<node>\n\nexport type drawflow = {\n    [id: number]: node\n}\n\nexport type connections = {\n    [propName: string]: pos[]\n}\n\nexport type data = {\n    nodes: drawflow,\n    connections: connections,\n    connectionsLabel?: {\n        [propName: string]: string\n    },\n}\n\nexport interface stateData {\n    nodeId: number,\n    canvasDrag: boolean,\n    config: {\n        drag: boolean,\n        connectionsLabelEnable: boolean,\n        canvasTranslate: pos,\n        zoom: {\n            value: number,\n            max: number,\n            min: number,\n            tick: number,\n        },\n    },\n    drawflow: drawflow,\n    modalType: string | null,\n    newPathDirection: clientPos | null,\n    ports: ports,\n    connections: connections,\n    connectionsLabel: {\n        [propName: string]: string\n    },\n    selectId: string | number | null,\n    select: { type: string, portId?: number, selectId?: string | number } | null,\n    selectPath: string | null,\n    showButton: number | null,\n    editLock: boolean,\n    mouseBlockDragPos: { clientX?: number, clientY?: number },\n    portToConnect?: string\n}\n\nexport interface flowType {\n    version: number\n    flows: stateData[]\n    dragTemplate?: number\n    templates: block[]\n}\n\nexport type addConnectionType = { startId: number, startPort: number, endId: number, endPort: number }\nexport type loadType = { drawflow: drawflow, connections: connections }\nexport type moveNodeType = { dx: number, dy: number, nodeId: number }","import { CURV, stateData } from \"../types\";\n\nimport { pos } from \"../types\";\n\nexport const getPortListByNodeId = (nodeId: number, state: stateData) => {\n  const { ports } = state;\n  return Object.keys(ports).filter(key => key.split(/_/g)[0] === \"\" + nodeId);\n}\n\nconst createCurvature = (start: pos, end: pos) => {\n  let hx1, hx2\n  let curv = (start.x >= end.x) ? -CURV : CURV\n\n  hx1 = start.x + Math.abs(end.x - start.x) * curv;\n  hx2 = end.x - Math.abs(end.x - start.x) * curv;\n\n  return ' M ' + start.x + ' ' + start.y + ' C ' + hx1 + ' ' + start.y + ' ' + hx2 + ' ' + end.y + ' ' + end.x + '  ' + end.y;\n}\n\nconst getCanvasInfo = () => {\n  // TODO : replace querySelector to someting\n  const canvas = (document.querySelector(\"#drawflow\") as HTMLElement).querySelector(\".drawflow\") as HTMLElement;\n  const canvasRect = canvas.getBoundingClientRect();\n  return {\n    x: canvasRect.x,\n    y: canvasRect.y,\n    width: canvas.clientWidth,\n    height: canvas.clientHeight,\n  };\n}\n\nconst getPos = (clientX: number, clientY: number, zoom: number) => {\n  const { x, y, width, height } = getCanvasInfo();\n  return {\n    x: clientX * (width / (width * zoom)) - (x * (width / (width * zoom))),\n    y: clientY * (height / (height * zoom)) - (y * (height / (height * zoom))),\n  }\n}\n\nconst findIndexByElement = (elmt: HTMLElement) => {\n  const parentElement = elmt.parentElement as HTMLElement;\n  const arr = Array.from(parentElement.childNodes);\n\n  for (let i = 0; i < arr.length; i++) {\n    if (arr[i] === elmt) return i;\n  }\n  return -1;\n}\n\nconst getPortPosWithZoom = (size: { width: number, height: number }, pos: pos, zoom: number) => {\n  const canvas = handler.getCanvasInfo();\n  const widthZoom = (canvas.width / (canvas.width * zoom)) || 0;\n  const heightZoom = (canvas.height / (canvas.height * zoom)) || 0;\n  const x = size.width / 2 + (pos.x - canvas.x) * widthZoom;\n  const y = size.height / 2 + (pos.y - canvas.y) * heightZoom;\n\n  return { x, y };\n}\n\nconst handler = {\n  createCurvature,\n  getCanvasInfo,\n  getPos,\n  findIndexByElement,\n  getPortPosWithZoom,\n}\n\nexport default handler\n","import { current } from \"@reduxjs/toolkit\";\nimport { getPortListByNodeId } from \"../components/drawflowHandler\";\nimport { addConnectionType, moveNodeType, node, port, pos, stateData, updateNode } from \"../types\";\nimport lodash from 'lodash'\n\nexport class Flow {\n    // readonly because we are using only immer.js with redux-toolkit\n    public readonly state: stateData\n    public readonly nodes: { [id: number]: Node } = {}\n    public readonly distanceToConnect = 100\n    public readonly distanceToDisconnect = 0\n\n    constructor(state: stateData) {\n        this.state = state\n        const { drawflow } = this.state\n        Object.keys(drawflow).map((id) => this.nodes[Number(id)] = new Node(Number(id), this))\n    }\n\n    get heads() {\n        return Object.entries(this.nodes).filter(([id, node]) => !node.parent).map(el => el[1])\n    }\n\n    getNode(id: number) {\n        return this.nodes[id]\n    }\n\n    alignAll() {\n        this.heads.forEach(node => {\n            node.calculateFullWidth()\n            node.alignChildren()\n        })\n    }\n\n    addConnection({ startId, startPort, endId, endPort }: addConnectionType) {\n        // restric conns\n        if ((startPort === 2 && this.getNode(startId).children(startPort).length) || this.getNode(endId).parent)\n            return\n\n        const key = `${startId}_${startPort}_${endId}_${endPort}`;\n        const { connections } = this.state;\n\n        // if such connection already exist\n        if (connections[key] !== undefined) return;\n\n        // add connection:\n        connections[key] = []\n    }\n\n    moveNode({ dx, dy, nodeId }: moveNodeType) {\n        // update ports position\n        const { state } = this\n        const portKeys = getPortListByNodeId(nodeId, state)\n        state.ports = portKeys.reduce((acc, portKey) => {\n            acc[portKey] = {\n                x: acc[portKey].x + dx,\n                y: acc[portKey].y + dy,\n            };\n            return acc;\n        }, { ...state.ports });\n\n        // update node position\n        state.drawflow[nodeId].pos.x += dx\n        state.drawflow[nodeId].pos.y += dy\n    }\n\n    dragNode({ dx, dy, nodeId }: moveNodeType) {\n        this.moveNode({ dx, dy, nodeId })\n\n        /**\n         * Attachment\n         * \n         * traverse all other nodes except this one,\n         * check if their ports are free for new conn, check distance\n         */\n\n        const currentNode = this.getNode(nodeId)\n        if (currentNode.parentConnection) {\n            // remove connection\n            delete this.state.connections[currentNode.parentConnection]\n        }\n        const nodeInPortPos = currentNode.portInPos\n        if (!nodeInPortPos) return\n        const portDistances: Array<{ key: string, distance: number }> = []\n        Object.entries(this.nodes)\n            .forEach(([id, node]) => {\n                if (Number(id) === nodeId) return\n\n                node.outPorts.forEach(([key, pos]) => {\n                    const distance = Math.hypot(nodeInPortPos.x - pos.x, nodeInPortPos.y - pos.y)\n                    portDistances.push({ key, distance })\n                })\n            });\n        portDistances.sort((a, b) => (a.distance - b.distance))\n        if (portDistances.length) {\n            const nearestPort = portDistances[0]\n            if (nearestPort.distance < this.distanceToConnect) {\n                // set state to\n                this.state.portToConnect = nearestPort.key\n            } else {\n                this.state.portToConnect = undefined\n            }\n        }\n    }\n\n    setLaneNumbers() {\n        let laneNodes = this.heads\n        laneNodes.forEach(node => node.update({ head: node.id, lane: 0 }))\n\n        while (laneNodes.length) {\n            const nextLaneNodes: Array<Node> = [];\n            laneNodes.forEach(node => {\n                let lane = node.lane as number + 1\n                const { subnodes, head } = node\n                if (subnodes.length) {\n                    console.log({ subnodes })\n                    for (const sub of subnodes) {\n                        sub.update({ lane: lane++, head })\n                    }\n                }\n                const nextNodes = node.children(1)\n                nextNodes.forEach(nextNode => nextNode.update({ head, lane }))\n                nextLaneNodes.push(...nextNodes)\n            })\n            laneNodes = nextLaneNodes;\n        }\n    }\n\n    setFlowNodeFullWidth(node: Node) {\n\n    }\n}\n\nclass Node {\n    public readonly id: number\n    private readonly state: stateData\n    public readonly flow: Flow\n    public readonly nodeState: node\n    public readonly spacingX = 20\n    public readonly spacingY = 20\n\n    constructor(id: number, flow: Flow) {\n        this.id = id\n        this.flow = flow\n        this.state = flow.state\n        this.nodeState = this.state.drawflow[this.id]\n    }\n\n    get head() {\n        return this.nodeState.head\n    }\n\n    get lane() {\n        return this.nodeState.lane\n    }\n\n    get port(): port {\n        return this.nodeState.port\n    }\n\n    get portInPos(): pos | undefined {\n        return Object.entries(this.state.ports).find(([key, value]) => key === `${this.id}_in_1`)?.[1]\n    }\n\n    get outPorts() {\n        return Object.entries(this.state.ports).filter(([key, pos]) => key.startsWith(`${this.id}_out`))\n    }\n\n    get parent(): Node | null {\n        const parentId = Object.keys(this.state.connections).find(key => key.split('_')[2] === this.id.toString())?.split('_')[0]\n        return parentId ? this.flow.getNode(Number(parentId)) : null\n    }\n\n    get parentConnection() {\n        return Object.keys(this.state.connections).find((key) => {\n            const arr = key.split('_').map(Number)\n            return arr[0] === this.parent?.id && arr[2] === this.id && arr[3] === 1\n        })\n    }\n\n    get fullWidth() {\n        return this.nodeState.fullWidth\n    }\n\n    calculateFullWidth() {\n        const children = this.out1\n        let fullChildrenWidth = 0\n        children.forEach(node => {\n            fullChildrenWidth += node.calculateFullWidth()\n        })\n        const rez = Math.max(this.width,\n            fullChildrenWidth + this.spacingX * (children.length - 1))\n        this.update({ fullWidth: rez })\n        return rez\n    }\n\n\n\n    alignChildren() {\n        const { out1 } = this\n        if (!out1.length) return\n\n        let xPos = this.pos.x - (this.calculateFullWidth() / 2 - this.width / 2)\n        for (const node of out1) {\n            const x = xPos + (node.calculateFullWidth() / 2 - node.width / 2)\n            node.setPos({ x, y: node.pos.y })\n            // node.update({ pos: { x } })\n            xPos += node.calculateFullWidth() + this.spacingX\n        }\n    }\n\n    children(portId: number) {\n        return Object.keys(this.state.connections)\n            .filter(key => key.split('_')[0] === this.id.toString() && key.split('_')[1] === portId.toString())\n            .map(conn => this.flow.getNode(Number((conn.split('_')[2]))))\n    }\n\n    setLaneNumbers() {\n        if (this.parent) return\n\n        let lane = 0\n        const head = this.id\n        this.update({ lane, head })\n        let node = this\n\n    }\n\n    get out1() {\n        return this.children(1);\n    }\n\n    get firstSubnode() {\n        return this.children(2)[0];\n    }\n\n\n\n    get subnodes() {\n        return this.children(2)\n        // const { flowLine } = this;\n        // return flowLine ? flowLine.flowLineNodes : []\n    }\n\n    get isSub(): boolean {\n        let parent = this.parent\n        if (parent) {\n            if (parent.firstSubnode === this) return true\n            return parent.isSub\n        }\n        return false\n    }\n\n    get complexParentNode() {\n        // if is sub eturn complexNode to which belongs this subnode\n        return null\n    }\n\n    /**\n     * If not flow line, - returns null\n     */\n    get flowLine(): null | { flowLineNodes: Node[], hasSubnodes: Node } {\n        const flowLineNodes = [];\n        let node: Node = this;\n        let hasSubnodes = node.firstSubnode;\n\n        while (node.out1.length === 1) {\n            flowLineNodes.push(node);\n            hasSubnodes = hasSubnodes || node.firstSubnode;\n            node = node.out1[0]\n        }\n\n        return (node.out1.length > 1) ? null : { flowLineNodes, hasSubnodes };\n    }\n\n    get height() {\n        return this.state.drawflow[this.id].height\n    }\n    get width() {\n        return this.state.drawflow[this.id].width\n    }\n\n    get data() {\n        return {}\n    }\n\n    get pos() {\n        return this.state.drawflow[this.id].pos\n    }\n\n    setPos(newPos: pos) {\n        const { pos } = this;\n        const { x, y } = newPos;\n        this.flow.moveNode({ nodeId: this.id, dx: x - pos.x, dy: y - pos.y })\n    }\n\n    update(data: updateNode) {\n        const newData = lodash.merge(this.nodeState, data)\n        Object.assign(this.nodeState, newData)\n        // for (const key in newData) {\n        //     if (key in this.nodeState) {\n        //         //@ts-ignore\n        //         this.nodeState[key] = newData[key]\n        //     }\n        // }\n    }\n}\n\n// export class AppNode extends Node {\n//     get prev_node_unique_id() {\n//         return 2;\n//     }\n//     get this_node_unique_id() {\n//         return 2;\n//     }\n//     get next_node_unique_id() {\n//         return 2;\n//     }\n\n// }","import { createSlice, PayloadAction, createAsyncThunk, current } from '@reduxjs/toolkit'\nimport handler, { getPortListByNodeId } from '../components/drawflowHandler'\nimport { testNode } from '../Mock'\nimport { dataNode, connections, drawflow, node, ports, pos, Slices, stateData, clientPos, flowType, addConnectionType, loadType, moveNodeType } from '../types'\nimport { Flow } from './Node'\nimport type { RootState } from './store'\n\nexport const initialState: stateData = {\n  nodeId: 1,\n  canvasDrag: false,\n  config: {\n    drag: false,\n    connectionsLabelEnable: false,\n    canvasTranslate: {\n      x: 0,\n      y: 0,\n    },\n    zoom: {\n      value: 1,\n      max: 2,\n      min: 0.5,\n      tick: 0.1,\n    },\n  },\n  drawflow: {},\n  connections: {},\n  connectionsLabel: {},\n  ports: {},\n  select: null,\n  selectId: null,\n  selectPath: null,\n  showButton: null,\n  newPathDirection: null,\n  modalType: null,\n  editLock: false,\n  mouseBlockDragPos: { clientX: undefined, clientY: undefined },\n}\n\nexport const addNode = (state: stateData, payload: dataNode) => {\n  state.drawflow[state.nodeId] = { ...payload, id: state.nodeId, height: 0, width: 0 }\n  state.selectId = state.nodeId++\n  state.select = { type: 'node', selectId: state.selectId }\n  state.config.drag = true\n}\n\n// load version from server\n\nconst load = (state: stateData, { payload }: PayloadAction<loadType>) => {\n  Object.assign(state, initialState)\n  state.drawflow = payload.drawflow\n  state.nodeId = Object.keys(payload.drawflow).length + 1\n  state.connections = payload.connections\n  return state\n}\n\nconst align = (state: stateData) => {\n  const flow = new Flow(state)\n  // const { isSub, id } = flow.getNode(1)\n  // console.log(flow.getNode(1).calculateFullWidth())\n  // flow.setLaneNumbers()\n  flow.alignAll()\n\n}\nconst setLaneNumbers = () => {\n  // iterate over nodes and add to state numbers(id, position, lane, etc: then this data will be rendered in every node)\n  // let laneNodes = this.heads\n}\n\n\nconst slice = createSlice({\n  name: Slices.Drawflow,\n  initialState,\n  reducers: {\n    setEditLock: (state, { payload }: PayloadAction<boolean>) => {\n      state.editLock = payload\n    },\n    align,\n    addNode: (state: stateData, { payload }: PayloadAction<dataNode>) => addNode(state, payload),\n    moveNode: (state, action: PayloadAction<moveNodeType>) => (new Flow(state)).dragNode(action.payload),\n    setMouseBlockDragPos: (state: stateData, { payload }: PayloadAction<clientPos>) => {\n      state.mouseBlockDragPos = payload\n    },\n    unSelect: (state) => {\n      state.config.drag = false\n      state.select = null\n      state.selectId = null\n      state.showButton = null\n    },\n    select: (state, { payload }: PayloadAction<{ type: 'node' | 'path' | 'input' | 'output', portId?: number, selectId?: string | number }>) => {\n      const { type, selectId } = payload;\n      state.config.drag = type === 'node'\n      state.select = payload\n      state.selectId = selectId ?? null;\n    },\n    moveCanvas: (state, { payload: { movementX, movementY } }: PayloadAction<{ movementX: number, movementY: number }>) => {\n      if (state.canvasDrag) {\n        state.config.canvasTranslate.x += movementX\n        state.config.canvasTranslate.y += movementY\n      }\n    },\n    canvasDrag: (state, { payload }: PayloadAction<boolean>) => {\n      state.canvasDrag = payload\n    },\n    canvasMouseMove: (state, { payload: { movementX, movementY, clientX, clientY } }: PayloadAction<{ clientX: number, clientY: number, movementX: number, movementY: number }>) => {\n      if (state.canvasDrag) {\n        state.config.canvasTranslate.x += movementX\n        state.config.canvasTranslate.y += movementY\n      } else if (state.select?.type === 'output') {\n        state.newPathDirection = { clientX, clientY }\n      } else if (state.config.drag && typeof state.selectId === 'number') {\n        // move node\n        const nodeId = state.selectId\n        const { clientX: prevX, clientY: prevY } = state.mouseBlockDragPos as clientPos\n        state.mouseBlockDragPos = { clientX, clientY }\n        const coef = (state.config.zoom.value)\n        const dx = (clientX - prevX) / coef\n        const dy = (clientY - prevY) / coef;\n        (new Flow(state)).dragNode({ nodeId, dy, dx })\n      }\n    },\n    canvasMouseUp: (state) => {\n      const flow = new Flow(state)\n      if (state.portToConnect) {\n        const [startId, _, startPort] = state.portToConnect.split('_').map(v => Number(v))\n        const endId = Number(state.selectId)\n        const endPort = 1\n        flow.addConnection({startId, startPort, endId, endPort})\n      }\n      state.portToConnect = undefined\n      state.newPathDirection = null\n      state.canvasDrag = false\n      state.config.drag = false\n      if (state.select?.type === 'output') {\n        state.select = null\n      }\n      // ().alignAll()\n    },\n    deleteNode: (state) => {\n      const { connections, drawflow, ports, selectId } = state;\n      if (!selectId || (typeof selectId !== 'number')) return;\n\n      // 1. find in connections\n      Object.keys(connections).reduce((_, val) => {\n        const arr = val.split(\"_\").map(v => parseInt(v));\n        if (arr[0] * 1 === selectId || arr[2] * 1 === selectId) {\n          delete connections[val];\n        }\n        return null;\n      }, null);\n      // 2. find in ports\n      Object.keys(ports).reduce((_, val) => {\n        const arr = val.split(\"_\").map(v => parseInt(v));\n        if (arr[0] * 1 === selectId) {\n          delete ports[val];\n        }\n        return null;\n      }, null);\n      // 3. find in drawflow\n      delete drawflow[selectId];\n\n      state.select = null\n      state.selectId = null\n      state.showButton = null\n    },\n    deletePath: (state) => {\n      const { selectId, connections } = state\n      if (typeof selectId === 'string')\n        delete connections[selectId];\n    },\n    load,\n    addConnection: (state, action: PayloadAction<addConnectionType>) => {\n      const flow = new Flow(state)\n      flow.addConnection(action.payload)\n    },\n    clear: () => initialState,\n    pushPorts: (state, { payload }: PayloadAction<ports>) => {\n      state.ports = { ...state.ports, ...payload }\n    },\n    zoom: (state, { payload }: PayloadAction<boolean | null>) => {\n      const { zoom } = state.config;\n      const { value, max, min, tick } = zoom\n      const newValue = value + (payload ? tick : -tick)\n      if (newValue <= max && newValue >= min) {\n        zoom.value = newValue\n      }\n      if (payload === null) {\n        state.config.canvasTranslate = { x: 0, y: 0 }\n        zoom.value = 1\n      }\n    },\n    nodeSize: (state, { payload: { height, width, id } }: PayloadAction<{ id: number, height: number, width: number }>) => {\n      state.drawflow[id].height = height\n      state.drawflow[id].width = width\n    }\n  },\n})\n\nexport const actions = slice.actions\nexport const drawflowSlice = slice.reducer\n\n// Other code such as selectors can use the imported `RootState` type\nexport const selectActiveDrawflow = (state: RootState) => state.flows[state.version]\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\nimport type { RootState, AppDispatch } from './store'\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector","import Circle from \"./Circle\"\nimport Path from \"./Path\"\n\nconst Connection = {\n    Circle,\n    Path\n}\n\nexport default Connection\n","import { MouseEvent } from \"react\";\n\nconst CircleComponent = (props: any) => {\n    const { property, svgKey, i, editLock } = props;\n\n    const onMouseDown = (e: MouseEvent) => {\n        if (editLock) return;\n        props.select(e, {\n            svgKey,\n            i,\n        });\n    }\n\n    return (\n        <circle\n            {...property}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"point\"\n            r={6}\n            onMouseDown={onMouseDown}\n        />\n    );\n}\n\nexport default CircleComponent;\n","import { MouseEvent } from \"react\";\nimport { actions, selectActiveDrawflow } from '../../redux/drawflowSlice'\nimport { useAppSelector, useAppDispatch } from '../../redux/hooks'\n\ntype Props = {\n    svgKey?: string,\n    d: string,\n}\n\nconst Path = (props: Props) => {\n    const { svgKey, d } = props;\n    const state = useAppSelector(selectActiveDrawflow)\n    const { selectId } = state;\n    const dispatch = useAppDispatch()\n\n\n    const className = \"main-path \" + ((selectId === svgKey && svgKey) ? 'select' : '')\n\n    return <path\n        xmlns=\"http://www.w3.org/2000/svg\"\n        className={className}\n        d={d}\n        onMouseDown={(e) => {\n            e.stopPropagation()\n            // if (editLock) return;\n            dispatch(actions.select({ type: 'path', selectId: svgKey }))\n        }}\n    ></path>\n\n}\n\nexport default Path;\n","import { Grabme, More } from \"../svg\"\n\nexport const Round = (props: any) => {\n    return (\n        <div className=\"node-block\" >\n            {/* {JSON.stringify(props, null, 2)} */}\n            dweferf\n            ferwf\n            ffwer fre f wefr ew fr ewrf ew rfwejrfhiweurfhuifh\n        </div>\n    )\n\n    const { imgSrc, name, description } = props;\n    return (\n        <div className=\"blockelem create-flowy\">\n            <div className=\"grabme\">\n                <Grabme />\n            </div>\n            <div className=\"blockin\">\n                <div className=\"blockico\">\n                    <span></span>\n                    <img src={imgSrc} alt={name + '\\n' + description} />\n                </div>\n                <div className=\"blocktext\">\n                    <p className=\"blocktitle\">{name}</p>\n                    <div className=\"side-elem-more\">\n                        <More />\n                    </div>\n                    <p className=\"blockdesc\">{description}</p>\n                </div>\n            </div>\n        </div>)\n}","import { useEffect, useState, useRef, } from \"react\";\nimport { node, ports, portType } from \"../types\";\nimport handler from \"./drawflowHandler\";\n\nimport { actions, selectActiveDrawflow } from '../redux/drawflowSlice'\nimport { useAppSelector, useAppDispatch } from '../redux/hooks'\nimport { Round } from \"./NodeComponents\";\n\n\nconst DrawflowNodeBlock = ({ id }: { id: number }) => {\n    const { portToConnect, nodeId, selectId, select, ports, config, drawflow: { [id]: node } } =\n        useAppSelector(selectActiveDrawflow)\n    // console.log(node.lane)\n    const dispatch = useAppDispatch()\n    const { port, pos } = node;\n    const { zoom } = config\n\n    const [refs, setRefs] = useState({\n        inputs: [],\n        outputs: [],\n    });\n    const ref = useRef<HTMLDivElement>(null);\n\n    const portComponent = (type: portType) => {\n        let arr = [];\n\n        for (let i = 1; i <= port[type]; i++) {\n            const key = `${type}put-${i}`;\n            const portKey = `${id}_${type}_${i}`\n            const port =\n                <div\n                    onMouseDown={(e) => {\n                        e.stopPropagation()\n                        dispatch(actions.select({\n                            type: (type + 'put') as ('input' | 'output'),\n                            portId: i,\n                            selectId: id\n                        }))\n                    }}\n                    key={key}\n                    className={`${type}put ${key} ${portKey}`}\n                    onMouseUp={e => {\n                        if (type !== \"in\" || typeof selectId !== \"number\" || !select?.portId) return\n                        const endId = id\n                        const endPort = i\n                        const startId = selectId\n                        const startPort = select.portId;\n                        // if connect to same node\n                        if (startId === endId) return\n                        dispatch(actions.addConnection({ startId, startPort, endId, endPort }))\n                    }}\n                >\n                    <div className={`indicator ${(portToConnect === portKey && ' ') || 'invisible'}`}></div>\n                </div>\n            arr.push(port);\n        }\n\n        return (\n            <div className={`${type}puts`}>\n                {arr}\n            </div>\n        );\n    }\n\n    useEffect(() => {\n        if (ref.current) {\n            //@ts-ignore\n            const inputs = Array.from(ref.current.querySelector(\".inputs\").children);\n            //@ts-ignore\n            const outputs = Array.from(ref.current.querySelector(\".outputs\").children);\n            //@ts-ignore\n            setRefs({ inputs, outputs, });\n        }\n    }, [ref]);\n\n    useEffect(() => {\n        if (ref.current) {\n            const { offsetHeight, offsetWidth } = ref.current\n            dispatch(actions.nodeSize({ height: offsetHeight, width: offsetWidth, id }))\n        }\n    })\n\n\n\n    const getPortPos = (type: portType, i: number, elmt: HTMLElement) => {\n        const key = `${id}_${type}_${i}`;\n        if (!ports[key]) {\n            const rect = elmt.getBoundingClientRect();\n            const size = {\n                width: elmt.offsetWidth,\n                height: elmt.offsetHeight,\n            };\n            const pos = {\n                x: rect.x,\n                y: rect.y,\n            };\n            return {\n                [key]: handler.getPortPosWithZoom(size, pos, zoom.value),\n            }\n        }\n    }\n\n    useEffect(() => {\n        if (refs.inputs && refs.outputs && port.in === refs.inputs.length && port.out === refs.outputs.length) {\n            let newPorts = {};\n            newPorts = Object.assign(newPorts, refs.inputs.reduce((acc, elmt, i) => {\n                return Object.assign(acc, getPortPos(\"in\", i + 1, elmt));\n            }, {}));\n            newPorts = Object.assign(newPorts, refs.outputs.reduce((acc, elmt, i) => {\n                return Object.assign(acc, getPortPos(\"out\", i + 1, elmt));\n            }, {}));\n            dispatch(actions.pushPorts(newPorts))\n        }\n    }, [dispatch, port, refs]);\n\n    useEffect(() => {\n        // when add new node shift it to left and up\n        if (ref.current && nodeId - 1 === id && config.drag) {\n            const { offsetHeight, offsetWidth } = ref.current\n            dispatch(actions.moveNode({ nodeId: id, dx: -offsetWidth * 0.2, dy: -offsetHeight * 0.2 }))\n        }\n    }, [])\n\n    return (\n        <div\n            ref={ref}\n            className={`node-${id} drawflow-node-block-default` + (selectId === id ? ' select' : '')}\n            style={{\n                top: pos.y + \"px\",\n                left: pos.x + \"px\",\n                cursor: \"move\",\n            }}\n            onMouseDown={e => {\n                e.stopPropagation()\n                const { clientX, clientY } = e\n                dispatch(actions.select({ type: 'node', selectId: id }))\n                dispatch(actions.setMouseBlockDragPos({ clientX, clientY }))\n            }}\n            onContextMenu={e => {\n                // TODO show delete button\n            }}\n            onDoubleClick={() => {\n                // show node settings\n            }}\n        >\n            {portComponent(\"in\")}\n            <div\n                className=\"drawflow-node-content\"\n            >\n                <Round description=\"ded\" name=\"deeded\" imgSrc=\"dwedwedwed\" />\n            </div>\n            {portComponent(\"out\")}\n            {/* <button\n            style={{\n                display: showButton === id ? \"block\" : \"none\"\n            }}\n            className=\"drawflow-delete\"\n            onMouseDown={(e) => { e.stopPropagation(); event.deleteNode() }}\n        >X</button> */}\n        </div>)\n\n\n}\n\nexport default DrawflowNodeBlock;\n","const makeRandomNames = (length: number, searchWord: string, max = 15, min = 5) => {\n    const result = [];\n    const map = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    for (let j = 0; j < length; j++) {\n        let word = \"\";\n        for (let i = 0; i < Math.floor(Math.random() * (max - min) + min); i++) {\n            word += map.charAt(Math.floor(Math.random() * map.length));\n        }\n        if (searchWord.length > 1) {\n            word += searchWord;\n        }\n        result.push(word);\n    }\n    return result;\n}\n\nconst getGroups = async (number: number) => {\n    const rnd = () => ({\n        type: 'Asd',\n        name: 'assa',\n        value: makeRandomNames(1, \"\", 10, 5)[0],\n    })\n    const rez = []\n    for (let i = 0; i < number; ++i) {\n        rez.push(rnd())\n    }\n    return rez;\n}\n\nexport default getGroups","import { NODE_TYPE } from \"../types\";\nimport getDummy from \"./dummy.mock\";\nimport getFilters from \"./fields.mock\";\n\nconst mock = {\n    getDummy,\n    getFilters,\n}\n\nexport default mock\nexport const testNode = () => {\n    return {\n        \"type\": NODE_TYPE.MIDDLE,\n        \"data\": {\n            \"type\": \"String\",\n            \"name\": \"1qdlCNXqYBsE\",\n            \"value\": \"qqweee\"\n        },\n        \"port\": {\n            \"in\": 1,\n            \"out\": 2\n        },\n        \"pos\": {\n            \"x\": -20,\n            \"y\": 100\n        },\n    }\n}","import { data } from \"../types\"\nimport { NODE_TYPE } from \"../types\"\n\nconst getData = async (): Promise<data> => {\n  const data: any = {\n    \"nodes\": {\n    },\n    \"connections\": {\n      \"1_1_3_1\": [],\n      \"4_1_2_1\": []\n    },\n  }\n\n  const node = {\n    \"id\": 1,\n    \"type\": NODE_TYPE.MIDDLE,\n    \"data\": {\n      \"type\": \"Numeric\",\n      \"name\": \"HLuF7rwKIuD\",\n      \"value\": \"asdf\",\n    },\n    \"port\": {\n      \"in\": 1,\n      \"out\": 2,\n    },\n    \"pos\": {\n      \"x\": 43.3125,\n      \"y\": 14,\n    }\n  }\n\n  for (let i = 1; i < 5; ++i) {\n    node.id = i\n    node.data.name = `Node ${i}`\n    node.pos.x = 100 * i\n    node.pos.y = 50 * i\n    data.nodes[i] = JSON.parse(JSON.stringify(node))\n  }\n\n\n  return data\n}\n\nexport default getData","import { configureStore, createAction, createAsyncThunk, createReducer, PayloadAction } from '@reduxjs/toolkit'\nimport { clientPos, flowType, Slices, stateData } from '../types'\nimport { addNode, drawflowSlice } from './drawflowSlice'\nimport mock, { testNode } from '../Mock'\nimport { initialState as drawflowInitialState } from './drawflowSlice'\nimport handler from '../components/drawflowHandler'\n\nexport const changeVersion = createAction<number>('versions/changed')\nexport const addNewNode = createAction<clientPos>('addNewNode')\nexport const dragTemplate = createAction<number>('dragTemplate')\n\nconst initialState: flowType = {\n  version: 0,\n  flows: [drawflowInitialState, drawflowInitialState, drawflowInitialState],\n  templates: [],\n  dragTemplate: 0\n}\n\nexport const fetchNodeTemplates = createAsyncThunk('fetchPosts', async () => {\n  return await mock.getFilters(5)\n})\n\nexport const fetchFlowVersion = createAsyncThunk('fetchFlowVersion', async () => {\n  return await mock.getDummy()\n})\n\n\nconst reducer = createReducer(initialState, (builder) => {\n  builder\n    .addCase(changeVersion, (state, { payload }) => {\n      state.version = payload\n    })\n    .addCase(addNewNode, (appState: flowType, { payload: { clientX, clientY } }: PayloadAction<clientPos>) => {\n      if (!appState.dragTemplate) return;\n\n      const state = appState.flows[appState.version]\n      const node = testNode()\n      node.pos = handler.getPos(clientX, clientY, state.config.zoom.value)\n      state.mouseBlockDragPos = { clientX, clientY };\n      addNode(state, node)\n      appState.dragTemplate = undefined\n    })\n    .addCase(dragTemplate, (appState, {payload}) => {\n      appState.dragTemplate = payload\n    })\n    .addCase(fetchNodeTemplates.fulfilled, (state, action) => {\n      state.templates = action.payload\n    })\n    .addCase(fetchFlowVersion.fulfilled, (state, action) => {\n      const { nodes: drawflow, connections } = action.payload;\n      state.flows[state.version] = drawflowSlice(\n        state.flows[state.version],\n        {\n          type: Slices.Drawflow + '/load',\n          payload: { drawflow, connections }\n        })\n    })\n\n    // reducer for drawflow\n    .addMatcher(\n      (action) => action.type.startsWith(Slices.Drawflow),\n      (state, action) => {\n        state.flows[state.version] = drawflowSlice(state.flows[state.version], action)\n      }\n    )\n\n\n})\n\nexport const store = configureStore({\n  reducer\n})\n\nexport type RootState = ReturnType<typeof store.getState>\nexport type AppDispatch = typeof store.dispatch\n\n// store.subscribe(() => console.log(store.getState()))","import { actions, selectActiveDrawflow } from \"../../redux/drawflowSlice\";\nimport { useAppDispatch, useAppSelector } from \"../../redux/hooks\";\n\nconst DrawflowAdditionalArea = () => {\n    const editLock = useAppSelector(s => selectActiveDrawflow(s).editLock)\n    const dispatch = useAppDispatch()\n\n    return (\n        <div className=\"drawflow-additional\">\n            {!editLock &&\n                <>\n                    <button className=\"drawflow-additional-button\" onClick={() => console.log('clear')}>Clear</button>\n                </>\n            }\n            <button className=\"drawflow-additional-button\" onClick={() => dispatch(actions.setEditLock(!editLock))}>{editLock ? \"UnLock\" : \"Lock\"}</button>\n        </div>\n    );\n}\n\nexport default DrawflowAdditionalArea;\n","import { actions } from \"../../redux/drawflowSlice\";\nimport { useAppDispatch } from \"../../redux/hooks\";\n\nconst DrawflowZoomArea = () => {\n    const dispatch = useAppDispatch()\n\n    return (\n        <div className=\"drawflow-zoom\">\n            <button className=\"drawflow-zoom-button\" onClick={() => dispatch(actions.zoom(true))}>+</button>\n            <button className=\"drawflow-zoom-button\" onClick={() => dispatch(actions.zoom(false))}>-</button>\n            <button className=\"drawflow-zoom-button\" onClick={() => dispatch(actions.zoom(null))}>reset</button>\n        </div>\n    )\n}\n\nexport default DrawflowZoomArea;\n","import handler from \"./drawflowHandler\"\nimport { actions, selectActiveDrawflow } from '../redux/drawflowSlice'\nimport { useAppSelector, useAppDispatch } from '../redux/hooks'\nimport Connection from \"./Connection\";\nimport DrawflowNodeBlock from \"./DrawflowNodeBlock\";\nimport { useEffect } from \"react\";\nimport { addNewNode, fetchFlowVersion } from \"../redux/store\";\nimport DrawflowAdditionalArea from \"./ButtonArea/DrawflowAdditionalArea\";\nimport DrawflowZoomArea from \"./ButtonArea/DrawflowZoomArea\";\n\nexport const NewPath = () => {\n    const state = useAppSelector(selectActiveDrawflow)\n\n    const { select, config, ports, selectId, newPathDirection } = state;\n    if (!select?.portId) { console.error(`Select port id not set!`); return null }\n    const startKey = `${selectId}_out_${select.portId}`;\n\n    if (!ports[startKey]) { console.error(`Start port key not exist`); return null }\n    if (!newPathDirection) { console.error(`Path direction null`); return null }\n\n    const start = {\n        x: ports[startKey].x,\n        y: ports[startKey].y,\n    }\n    const zoom = config.zoom.value;\n    const { clientX, clientY } = newPathDirection;\n    const end = handler.getPos(clientX, clientY, zoom);\n    const d = handler.createCurvature(start, end);\n\n    return <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        className=\"drawflow-connection\"\n    >\n        <Connection.Path\n            d={d}\n        />\n    </svg>\n\n}\n\nexport const ConnectionList = () => {\n    const { connections, ports } = useAppSelector(selectActiveDrawflow)\n\n    const conns = Object.entries(connections).map(([key]) => {\n        // key: fromId_portNum_toId_portNum\n        const arr = key.split(\"_\");\n        const startKey = `${arr[0]}_out_${arr[1]}`;\n        const endKey = `${arr[2]}_in_${arr[3]}`;\n\n        if (!ports[startKey] || !ports[endKey]) {\n            // console.error(`No such connection`, key);\n            return null\n        };\n\n        const start = {\n            x: ports[startKey].x,\n            y: ports[startKey].y,\n        }\n        const end = {\n            x: ports[endKey].x,\n            y: ports[endKey].y,\n        }\n        const d = handler.createCurvature(start, end)\n        return <div key={key}>\n            <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"drawflow-connection\"\n            >\n                <Connection.Path\n                    svgKey={key}\n                    d={d}\n                />\n            </svg>\n        </div>\n\n    })\n    return <>{conns}</>\n}\n\nexport const NodeList = () => {\n    const drawflow = useAppSelector(s => selectActiveDrawflow(s).drawflow)\n\n    return <>{Object.values(drawflow).map((node) => {\n        return <DrawflowNodeBlock\n            key={node.id}\n            id={node.id}\n        />\n    }\n    )}</>\n}\n\n\nexport const Drawflow = () => {\n    const { select, config: { canvasTranslate: { x, y }, zoom }, newPathDirection }\n        = useAppSelector(selectActiveDrawflow)\n\n    const dispatch = useAppDispatch()\n\n    useEffect(() => {\n        dispatch(fetchFlowVersion())\n    }, [])\n\n    useEffect(() => {\n        const handleKeyDown = (e: KeyboardEvent) => {\n            if (e.key === \"Delete\") {\n                if (select?.type === \"path\") {\n                    dispatch(actions.deletePath())\n                }\n                else {\n                    dispatch(actions.deleteNode())\n                }\n            }\n        }\n        document.addEventListener(\"keydown\", handleKeyDown);\n        return () => {\n            document.removeEventListener(\"keydown\", handleKeyDown);\n        }\n    }, [dispatch, select?.type])\n\n\n    return (\n        <div\n            id=\"drawflow\"\n            className=\"parent-drawflow\"\n            onMouseDown={(e) => {\n                if (!e.currentTarget.classList.contains(\"parent-drawflow\")) return;\n                dispatch(actions.canvasDrag(true))\n                dispatch(actions.unSelect())\n            }}\n            onMouseUp={() => dispatch(actions.canvasMouseUp())}\n            onMouseMove={(e) => {\n                const { clientX, clientY, movementX, movementY } = e\n                dispatch(actions.canvasMouseMove({ clientX, clientY, movementX, movementY }))\n            }}\n            onMouseEnter={(e) => {\n                const { clientX, clientY } = e\n                dispatch(addNewNode({ clientX, clientY }))\n            }}\n        >\n            <DrawflowAdditionalArea />\n            <DrawflowZoomArea />\n            <div\n                className=\"drawflow\"\n                style={{\n                    transform: `translate(${x}px, ${y}px) scale(${zoom.value})`\n                }}\n            >\n                <NodeList />\n                <ConnectionList />\n                {newPathDirection && <NewPath />}\n            </div>\n        </div>\n    )\n}","import { useEffect } from 'react';\nimport { useAppDispatch, useAppSelector } from '../redux/hooks';\nimport { dragTemplate, fetchNodeTemplates } from '../redux/store';\n\ntype Props = {\n    searchWord: string\n}\n\nconst FilterList = (props: Props) => {\n    const { searchWord } = props;\n    const list = useAppSelector(s => s.templates)\n    const dispatch = useAppDispatch()\n    const searchArr = searchWord.toLowerCase().split(\" \").filter(item => item.length > 0);\n\n\n    useEffect(() => {\n        dispatch(fetchNodeTemplates())\n    }, [dispatch])\n\n    return (\n        <div\n            className=\"drawflow-node-list-wrap\"\n        >\n            {list.map((item, idx) => {\n                const { name, type, value } = item\n                const label = JSON.stringify(item, null, 2)\n\n                return (\n                    (searchArr.find(word => label.toLowerCase().includes(word)) || !searchArr.length) &&\n                    <div\n                        key={\"drawflow-sidemenu-block-\" + idx}\n                        className=\"drawflow-node-block\"\n                        onMouseDownCapture={(e) => {\n                            dispatch(dragTemplate(1))\n                        }}\n                    >\n                        <pre>{`Type: ${type}\\nValue: ${value + name}`}</pre>\n                    </div>\n                );\n            })}\n        </div>\n    );\n}\n\nexport default FilterList;\n","import { useState } from 'react';\nimport { Drawflow } from './components/DrawflowHook';\nimport FilterList from \"./components/FilterList\";\nimport { useAppDispatch } from './redux/hooks';\nimport { changeVersion, fetchFlowVersion } from './redux/store';\n\nimport './drawflow.scss'\nimport { actions } from './redux/drawflowSlice';\n\nfunction App() {\n\n  const [searchWord, setSearchWord] = useState(\"\");\n  const dispatch = useAppDispatch()\n\n  return (\n    <div className=\"App\">\n      <div className=\"drawflow-node-list\">\n        <div className=\"drawflow-node-list-search\">\n          <input\n            type=\"text\"\n            placeholder=\"Search templates\"\n            onChange={e => { setSearchWord(e.target.value) }}\n          />\n        </div>\n        <div className=\"drawflow-node-list-flex\">\n          <FilterList\n            searchWord={searchWord}\n          />\n        </div>\n      </div>\n      <div className=\"flow\">\n        <div>\n          <button onClick={() => dispatch(fetchFlowVersion())}>Fetch flow version</button>\n\n          <button onClick={() => dispatch(changeVersion(0))}>Version 1</button>\n          <button onClick={() => dispatch(changeVersion(1))}>Version 2</button>\n          <button onClick={() => dispatch(changeVersion(2))}>Version 3</button>\n          <button onClick={() => dispatch(actions.align())}>Align</button>\n        </div>\n        <Drawflow />\n      </div>\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nimport { store } from './redux/store'\nimport { Provider } from 'react-redux'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}